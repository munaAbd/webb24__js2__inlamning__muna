let e,t,n,r,i,a,o,l,s,u,c,d,h,f;function p(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function m(e){return e&&e.__esModule?e.default:e}var g,_,v,y,b,w,C,k,S,E,x,T,I,N,P,R,D,L,O,M,F=globalThis,A={},z={},U=F.parcelRequire89bf;null==U&&((U=function(e){if(e in A)return A[e].exports;if(e in z){var t=z[e];delete z[e];var n={id:e,exports:{}};return A[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){z[e]=t},F.parcelRequire89bf=U);var j=U.register;j("1b2ls",function(e,t){p(e.exports,"Fragment",()=>n,e=>n=e),p(e.exports,"jsx",()=>r,e=>r=e),p(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,a=U("acw62"),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},a=null,l=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:a,ref:l,props:i,_owner:u.current}}n=l,r=d,i=d}),j("acw62",function(e,t){e.exports=U("2pUnB")}),j("2pUnB",function(e,t){p(e.exports,"Children",()=>n,e=>n=e),p(e.exports,"Component",()=>r,e=>r=e),p(e.exports,"Fragment",()=>i,e=>i=e),p(e.exports,"Profiler",()=>a,e=>a=e),p(e.exports,"PureComponent",()=>o,e=>o=e),p(e.exports,"StrictMode",()=>l,e=>l=e),p(e.exports,"Suspense",()=>s,e=>s=e),p(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>u,e=>u=e),p(e.exports,"act",()=>c,e=>c=e),p(e.exports,"cloneElement",()=>d,e=>d=e),p(e.exports,"createContext",()=>h,e=>h=e),p(e.exports,"createElement",()=>f,e=>f=e),p(e.exports,"createFactory",()=>m,e=>m=e),p(e.exports,"createRef",()=>g,e=>g=e),p(e.exports,"forwardRef",()=>_,e=>_=e),p(e.exports,"isValidElement",()=>v,e=>v=e),p(e.exports,"lazy",()=>y,e=>y=e),p(e.exports,"memo",()=>b,e=>b=e),p(e.exports,"startTransition",()=>w,e=>w=e),p(e.exports,"unstable_act",()=>C,e=>C=e),p(e.exports,"useCallback",()=>k,e=>k=e),p(e.exports,"useContext",()=>S,e=>S=e),p(e.exports,"useDebugValue",()=>E,e=>E=e),p(e.exports,"useDeferredValue",()=>x,e=>x=e),p(e.exports,"useEffect",()=>T,e=>T=e),p(e.exports,"useId",()=>I,e=>I=e),p(e.exports,"useImperativeHandle",()=>N,e=>N=e),p(e.exports,"useInsertionEffect",()=>P,e=>P=e),p(e.exports,"useLayoutEffect",()=>R,e=>R=e),p(e.exports,"useMemo",()=>D,e=>D=e),p(e.exports,"useReducer",()=>L,e=>L=e),p(e.exports,"useRef",()=>O,e=>O=e),p(e.exports,"useState",()=>M,e=>M=e),p(e.exports,"useSyncExternalStore",()=>F,e=>F=e),p(e.exports,"useTransition",()=>A,e=>A=e),p(e.exports,"version",()=>z,e=>z=e);var n,r,i,a,o,l,s,u,c,d,h,f,m,g,_,v,y,b,w,C,k,S,E,x,T,I,N,P,R,D,L,O,M,F,A,z,U=Symbol.for("react.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.iterator,X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function ee(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,J(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,ea=Object.prototype.hasOwnProperty,eo={current:null},el={key:!0,ref:!0,__self:!0,__source:!0};function es(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)ea.call(t,r)&&!el.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:U,type:e,key:a,ref:o,props:i,_owner:eo.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}var ec=/\/+/g;function ed(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function eh(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var o,l,s,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case U:case j:c=!0}}if(c)return a=a(c=t),t=""===i?"."+ed(c,0):i,ei(a)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(eu(a)&&(o=a,l=r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(ec,"$&/")+"/")+t,a={$$typeof:U,type:o.type,key:l,ref:o.ref,props:o.props,_owner:o._owner}),n.push(a)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var d=0;d<t.length;d++){var h=i+ed(u=t[d],d);c+=e(u,n,r,h,a)}else if("function"==typeof(h=null===(s=t)||"object"!=typeof s?null:"function"==typeof(s=G&&s[G]||s["@@iterator"])?s:null))for(t=h.call(t),d=0;!(u=t.next()).done;)h=i+ed(u=u.value,d++),c+=e(u,n,r,h,a);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},em={transition:null};function eg(){throw Error("act(...) is not supported in production builds of React.")}n={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=ee,i=q,a=B,o=en,l=W,s=Q,u={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:em,ReactCurrentOwner:eo},c=eg,d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=eo.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)ea.call(t,s)&&!el.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:U,type:e.type,key:i,ref:a,props:r,_owner:o}},h=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:$,_context:e},e.Consumer=e},f=es,m=function(e){var t=es.bind(null,e);return t.type=e,t},g=function(){return{current:null}},_=function(e){return{$$typeof:V,render:e}},v=eu,y=function(e){return{$$typeof:Y,_payload:{_status:-1,_result:e},_init:ef}},b=function(e,t){return{$$typeof:K,type:e,compare:void 0===t?null:t}},w=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},C=eg,k=function(e,t){return ep.current.useCallback(e,t)},S=function(e){return ep.current.useContext(e)},E=function(){},x=function(e){return ep.current.useDeferredValue(e)},T=function(e,t){return ep.current.useEffect(e,t)},I=function(){return ep.current.useId()},N=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},P=function(e,t){return ep.current.useInsertionEffect(e,t)},R=function(e,t){return ep.current.useLayoutEffect(e,t)},D=function(e,t){return ep.current.useMemo(e,t)},L=function(e,t,n){return ep.current.useReducer(e,t,n)},O=function(e){return ep.current.useRef(e)},M=function(e){return ep.current.useState(e)},F=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},A=function(){return ep.current.useTransition()},z="18.3.1"}),j("Xw6Mv",function(e,t){p(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>B,e=>B=e),p(e.exports,"createPortal",()=>$,e=>$=e),p(e.exports,"createRoot",()=>H,e=>H=e),p(e.exports,"findDOMNode",()=>V,e=>V=e),p(e.exports,"flushSync",()=>Q,e=>Q=e),p(e.exports,"hydrate",()=>K,e=>K=e),p(e.exports,"hydrateRoot",()=>Y,e=>Y=e),p(e.exports,"render",()=>G,e=>G=e),p(e.exports,"unmountComponentAtNode",()=>X,e=>X=e),p(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),p(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),p(e.exports,"version",()=>ee,e=>ee=e);var n,r,i,a,o,l,s=U("acw62"),u=U("fO90s");function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,h={};function f(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(h[e]=t,e=0;e<t.length;e++)d.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function w(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}function E(e,t,n,r){var i,a=C.hasOwnProperty(t)?C[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?(i=t,(!!_.call(b,i)||!_.call(y,i)&&(v.test(i)?b[i]=!0:(y[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k,S);C[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k,S);C[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k,S);C[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var q=Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}var B,$,H,V,Q,K,Y,G,X,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function ea(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(1!==o||1!==l)do if(o--,0>--l||i[o]!==a[l]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function el(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function es(e){e._valueTracker||(e._valueTracker=function(e){var t=el(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=el(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ed(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eh(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=eo(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=eo(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,eo(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var e_=Array.isArray;function ev(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+eo(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ey(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(c(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(c(92));if(e_(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function ew(e,t){var n=eo(t.value),r=eo(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eC(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ek(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ek(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eE,ex,eT=(eE=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ex=ex||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ex.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eE(e,t,n,r)})}:eE);function eI(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eN={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eP=["Webkit","ms","Moz","O"];function eR(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eN.hasOwnProperty(e)&&eN[e]?(""+t).trim():t+"px"}function eD(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eR(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eN).forEach(function(e){eP.forEach(function(t){eN[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eN[e]})});var eL=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eO(e,t){if(t){if(eL[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(c(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(c(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(c(62))}}function eM(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eF=null;function eA(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ez=null,eU=null,ej=null;function eq(e){if(e=rY(e)){if("function"!=typeof ez)throw Error(c(280));var t=e.stateNode;t&&(t=rX(t),ez(e.stateNode,e.type,t))}}function eW(e){eU?ej?ej.push(e):ej=[e]:eU=e}function eB(){if(eU){var e=eU,t=ej;if(ej=eU=null,eq(e),t)for(e=0;e<t.length;e++)eq(t[e])}}function e$(e,t){return e(t)}function eH(){}var eV=!1;function eQ(e,t,n){if(eV)return e(t,n);eV=!0;try{return e$(e,t,n)}finally{eV=!1,(null!==eU||null!==ej)&&(eH(),eB())}}function eK(e,t){var n=e.stateNode;if(null===n)return null;var r=rX(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(c(231,t,typeof n));return n}var eY=!1;if(g)try{var eG={};Object.defineProperty(eG,"passive",{get:function(){eY=!0}}),window.addEventListener("test",eG,eG),window.removeEventListener("test",eG,eG)}catch(e){eY=!1}function eX(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eJ=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eJ=!0,eZ=e}};function e3(e,t,n,r,i,a,o,l,s){eJ=!1,eZ=null,eX.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(c(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e5(i),e;if(a===r)return e5(i),t;a=a.sibling}throw Error(c(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(3!==n.tag)throw Error(c(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=u.unstable_scheduleCallback,e7=u.unstable_cancelCallback,te=u.unstable_shouldYield,tt=u.unstable_requestPaint,tn=u.unstable_now,tr=u.unstable_getCurrentPriorityLevel,ti=u.unstable_ImmediatePriority,ta=u.unstable_UserBlockingPriority,to=u.unstable_NormalPriority,tl=u.unstable_LowPriority,ts=u.unstable_IdlePriority,tu=null,tc=null,td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tf|0)|0},th=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function t_(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=0xfffffff&n;if(0!==o){var l=o&~i;0!==l?r=tg(l):0!=(a&=o)&&(r=tg(a))}else 0!=(o=n&~i)?r=tg(o):0!==a&&(r=tg(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-td(t)),r|=e[n],t&=~i;return r}function tv(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function ty(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tw(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-td(t)]=n}function tC(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-td(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tk=0;function tS(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var tE,tx,tT,tI,tN,tP=!1,tR=[],tD=null,tL=null,tO=null,tM=new Map,tF=new Map,tA=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tU(e,t){switch(e){case"focusin":case"focusout":tD=null;break;case"dragenter":case"dragleave":tL=null;break;case"mouseover":case"mouseout":tO=null;break;case"pointerover":case"pointerout":tM.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tF.delete(t.pointerId)}}function tj(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=rY(t))&&tx(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tq(e){var t=rK(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tN(e.priority,function(){tT(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tW(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rY(n))&&tx(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eF=r,n.target.dispatchEvent(r),eF=null,t.shift()}return!0}function tB(e,t,n){tW(e)&&n.delete(t)}function t$(){tP=!1,null!==tD&&tW(tD)&&(tD=null),null!==tL&&tW(tL)&&(tL=null),null!==tO&&tW(tO)&&(tO=null),tM.forEach(tB),tF.forEach(tB)}function tH(e,t){e.blockedOn===t&&(e.blockedOn=null,tP||(tP=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,t$)))}function tV(e){function t(t){return tH(t,e)}if(0<tR.length){tH(tR[0],e);for(var n=1;n<tR.length;n++){var r=tR[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tD&&tH(tD,e),null!==tL&&tH(tL,e),null!==tO&&tH(tO,e),tM.forEach(t),tF.forEach(t),n=0;n<tA.length;n++)(r=tA[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tA.length&&null===(n=tA[0]).blockedOn;)tq(n),null===n.blockedOn&&tA.shift()}var tQ=x.ReactCurrentBatchConfig,tK=!0;function tY(e,t,n,r){var i=tk,a=tQ.transition;tQ.transition=null;try{tk=1,tX(e,t,n,r)}finally{tk=i,tQ.transition=a}}function tG(e,t,n,r){var i=tk,a=tQ.transition;tQ.transition=null;try{tk=4,tX(e,t,n,r)}finally{tk=i,tQ.transition=a}}function tX(e,t,n,r){if(tK){var i=tZ(e,t,n,r);if(null===i)rb(e,t,r,tJ,n),tU(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tD=tj(tD,e,t,n,r,i),!0;case"dragenter":return tL=tj(tL,e,t,n,r,i),!0;case"mouseover":return tO=tj(tO,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tM.set(a,tj(tM.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tF.set(a,tj(tF.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tU(e,r),4&t&&-1<tz.indexOf(e)){for(;null!==i;){var a=rY(i);if(null!==a&&tE(a),null===(a=tZ(e,t,n,r))&&rb(e,t,r,tJ,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else rb(e,t,r,null,n)}}var tJ=null;function tZ(e,t,n,r){if(tJ=null,null!==(e=rK(e=eA(r)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tJ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ta:return 4;case to:case tl:return 16;case ts:return 0x20000000;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),na=t9(ni),no=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n_,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),nl=t9(no),ns=t9(en({},no,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nd=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nh=t9(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function n_(){return ng}var nv=t9(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n_,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ny=t9(en({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n_})),nw=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nC=t9(en({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nk=[9,13,27,32],nS=g&&"CompositionEvent"in window,nE=null;g&&"documentMode"in document&&(nE=document.documentMode);var nx=g&&"TextEvent"in window&&!nE,nT=g&&(!nS||nE&&8<nE&&11>=nE),nI=!1;function nN(e,t){switch(e){case"keyup":return -1!==nk.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nP(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nR=!1,nD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nD[e.type]:"textarea"===t}function nO(e,t,n,r){eW(r),0<(t=rC(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nM=null,nF=null;function nA(e){rp(e,0)}function nz(e){if(eu(rG(e)))return e}function nU(e,t){if("change"===e)return t}var nj=!1;if(g){if(g){var nq="oninput"in document;if(!nq){var nW=document.createElement("div");nW.setAttribute("oninput","return;"),nq="function"==typeof nW.oninput}n=nq}else n=!1;nj=n&&(!document.documentMode||9<document.documentMode)}function nB(){nM&&(nM.detachEvent("onpropertychange",n$),nF=nM=null)}function n$(e){if("value"===e.propertyName&&nz(nF)){var t=[];nO(t,nF,e,eA(e)),eQ(nA,t)}}function nH(e,t,n){"focusin"===e?(nB(),nM=t,nF=n,nM.attachEvent("onpropertychange",n$)):"focusout"===e&&nB()}function nV(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nz(nF)}function nQ(e,t){if("click"===e)return nz(t)}function nK(e,t){if("input"===e||"change"===e)return nz(t)}var nY="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nG(e,t){if(nY(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_.call(t,i)||!nY(e[i],t[i]))return!1}return!0}function nX(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nJ(e,t){var n,r=nX(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nX(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nG(n4,r)||(n4=r,0<(r=rC(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),ra=rt("transitionend"),ro=new Map,rl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){ro.set(e,t),f(t,[e])}for(var ru=0;ru<rl.length;ru++){var rc=rl[ru];rs(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rs(rn,"onAnimationEnd"),rs(rr,"onAnimationIteration"),rs(ri,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(ra,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,s){if(e3.apply(this,arguments),eJ){if(eJ){var u=eZ;eJ=!1,eZ=null}else throw Error(c(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;rf(i,l,u),a=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;rf(i,l,u),a=s}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rH];void 0===n&&(n=t[rH]=new Set);var r=e+"__bubble";n.has(r)||(ry(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),ry(n,e,r,t)}var r_="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[r_]){e[r_]=!0,d.forEach(function(t){"selectionchange"!==t&&(rh.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[r_]||(t[r_]=!0,rg("selectionchange",!1,t))}}function ry(e,t,n,r){switch(t0(t)){case 1:var i=tY;break;case 4:i=tG;break;default:i=tX}n=i.bind(null,t,n,e),i=void 0,eY&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rb(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==l;){if(null===(o=rK(l)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}l=l.parentNode}}r=r.return}eQ(function(){var r=a,i=eA(n),o=[];e:{var l=ro.get(e);if(void 0!==l){var s=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":s=nv;break;case"focusin":u="focus",s=nu;break;case"focusout":u="blur",s=nu;break;case"beforeblur":case"afterblur":s=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=ns;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=nb;break;case rn:case rr:case ri:s=nc;break;case ra:s=nw;break;case"scroll":s=na;break;case"wheel":s=nC;break;case"copy":case"cut":case"paste":s=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=ny}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==l?l+"Capture":null:l;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=eK(p,h))&&c.push(rw(p,m,f))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),o.push({event:l,listeners:c}))}}if(0==(7&t)){if(l="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e,!(l&&n!==eF&&(u=n.relatedTarget||n.fromElement)&&(rK(u)||u[r$]))&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(u=n.relatedTarget||n.toElement,s=r,null!==(u=u?rK(u):null)&&(d=e4(u),u!==d||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=nl,m="onMouseLeave",h="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=ny,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==s?l:rG(s),f=null==u?l:rG(u),(l=new c(m,p+"leave",s,n,i)).target=d,l.relatedTarget=f,m=null,rK(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,s&&u)t:{for(c=s,h=u,p=0,f=c;f;f=rk(f))p++;for(f=0,m=h;m;m=rk(m))f++;for(;0<p-f;)c=rk(c),p--;for(;0<f-p;)h=rk(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break t;c=rk(c),h=rk(h)}c=null}else c=null;null!==s&&rS(o,l,s,c,!1),null!==u&&null!==d&&rS(o,d,u,c,!0)}e:{if("select"===(s=(l=r?rG(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g,_=nU;else if(nL(l)){if(nj)_=nK;else{_=nV;var v=nH}}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(_=nQ);if(_&&(_=_(e,r))){nO(o,_,n,i);break e}v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&eg(l,"number",l.value)}switch(v=r?rG(r):window,e){case"focusin":(nL(v)||"true"===v.contentEditable)&&(n2=v,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(o,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(o,n,i)}if(nS)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else nR?nN(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(nT&&"ko"!==n.locale&&(nR||"onCompositionStart"!==y?"onCompositionEnd"===y&&nR&&(g=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nR=!0)),0<(v=rC(r,y)).length&&(y=new nh(y,e,null,n,i),o.push({event:y,listeners:v}),g?y.data=g:null!==(g=nP(n))&&(y.data=g))),(g=nx?function(e,t){switch(e){case"compositionend":return nP(t);case"keypress":if(32!==t.which)return null;return nI=!0," ";case"textInput":return" "===(e=t.data)&&nI?null:e;default:return null}}(e,n):function(e,t){if(nR)return"compositionend"===e||!nS&&nN(e,t)?(e=t4(),t3=t2=t1=null,nR=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nT&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rC(r,"onBeforeInput")).length&&(i=new nh("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g)}rp(o,t)})}function rw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rC(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=eK(e,n))&&r.unshift(rw(e,a,i)),null!=(a=eK(e,t))&&r.push(rw(e,a,i))),e=e.return}return r}function rk(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=eK(n,a))&&o.unshift(rw(n,s,l)):i||null!=(s=eK(n,a))&&o.push(rw(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var rE=/\r\n?/g,rx=/\u0000|\uFFFD/g;function rT(e){return("string"==typeof e?e:""+e).replace(rE,"\n").replace(rx,"")}function rI(e,t,n){if(t=rT(t),rT(e)!==t&&n)throw Error(c(425))}function rN(){}var rP=null,rR=null;function rD(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rL="function"==typeof setTimeout?setTimeout:void 0,rO="function"==typeof clearTimeout?clearTimeout:void 0,rM="function"==typeof Promise?Promise:void 0,rF="function"==typeof queueMicrotask?queueMicrotask:void 0!==rM?function(e){return rM.resolve(null).then(e).catch(rA)}:rL;function rA(e){setTimeout(function(){throw e})}function rz(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tV(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)tV(t)}function rU(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rj(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rq=Math.random().toString(36).slice(2),rW="__reactFiber$"+rq,rB="__reactProps$"+rq,r$="__reactContainer$"+rq,rH="__reactEvents$"+rq,rV="__reactListeners$"+rq,rQ="__reactHandles$"+rq;function rK(e){var t=e[rW];if(t)return t;for(var n=e.parentNode;n;){if(t=n[r$]||n[rW]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rj(e);null!==e;){if(n=e[rW])return n;e=rj(e)}return t}n=(e=n).parentNode}return null}function rY(e){return(e=e[rW]||e[r$])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rG(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(c(33))}function rX(e){return e[rB]||null}var rJ=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rJ[rZ],rJ[rZ]=null,rZ--)}function r2(e,t){rJ[++rZ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r5=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(c(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(c(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case N:return"Fragment";case I:return"Portal";case R:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case O:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r5=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=it(e,t,r5),r.__reactInternalMemoizedMergedChildContext=e,r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var ia=null,io=!1,il=!1;function is(e){null===ia?ia=[e]:ia.push(e)}function iu(){if(!il&&null!==ia){il=!0;var e=0,t=tk;try{var n=ia;for(tk=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}ia=null,io=!1}catch(t){throw null!==ia&&(ia=ia.slice(e+1)),e9(ti,iu),t}finally{tk=t,il=!1}}return null}var ic=[],id=0,ih=null,ip=0,im=[],ig=0,i_=null,iv=1,iy="";function ib(e,t){ic[id++]=ip,ic[id++]=ih,ih=e,ip=t}function iw(e,t,n){im[ig++]=iv,im[ig++]=iy,im[ig++]=i_,i_=e;var r=iv;e=iy;var i=32-td(r)-1;r&=~(1<<i),n+=1;var a=32-td(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,iv=1<<32-td(t)+i|n<<i|r,iy=a+e}else iv=1<<a|n<<i|r,iy=e}function iC(e){null!==e.return&&(ib(e,1),iw(e,1,0))}function ik(e){for(;e===ih;)ih=ic[--id],ic[id]=null,ip=ic[--id],ic[id]=null;for(;e===i_;)i_=im[--ig],im[ig]=null,iy=im[--ig],im[ig]=null,iv=im[--ig],im[ig]=null}var iS=null,iE=null,ix=!1,iT=null;function iI(e,t){var n=l8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iN(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,iE=rU(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,iE=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==i_?{id:iv,overflow:iy}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:0x40000000},(n=l8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,iE=null,!0);default:return!1}}function iP(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iR(e){if(ix){var t=iE;if(t){var n=t;if(!iN(e,t)){if(iP(e))throw Error(c(418));t=rU(n.nextSibling);var r=iS;t&&iN(e,t)?iI(r,n):(e.flags=-4097&e.flags|2,ix=!1,iS=e)}}else{if(iP(e))throw Error(c(418));e.flags=-4097&e.flags|2,ix=!1,iS=e}}}function iD(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iL(e){if(e!==iS)return!1;if(!ix)return iD(e),ix=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rD(e.type,e.memoizedProps)),t&&(t=iE)){if(iP(e))throw iO(),Error(c(418));for(;t;)iI(e,t),t=rU(t.nextSibling)}if(iD(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iE=rU(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iE=null}}else iE=iS?rU(e.stateNode.nextSibling):null;return!0}function iO(){for(var e=iE;e;)e=rU(e.nextSibling)}function iM(){iE=iS=null,ix=!1}function iF(e){null===iT?iT=[e]:iT.push(e)}var iA=x.ReactCurrentBatchConfig;function iz(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function iU(e,t){throw Error(c(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ij(e){return(0,e._init)(e._payload)}function iq(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=l7(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=sr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function s(e,t,n,r){var a=n.type;return a===N?d(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===z&&ij(a)===t.type)?(r=i(t,n.props)).ref=iz(e,t,n):(r=se(n.type,n.key,n.props,null,e.mode,r)).ref=iz(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=si(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function d(e,t,n,r,a){return null===t||7!==t.tag?(t=st(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=sr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case T:return(n=se(t.type,t.key,t.props,null,e.mode,n)).ref=iz(e,null,t),n.return=e,n;case I:return(t=si(t,e.mode,n)).return=e,t;case z:return h(e,(0,t._init)(t._payload),n)}if(e_(t)||W(t))return(t=st(t,e.mode,n,null)).return=e,t;iU(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?s(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case z:return f(e,t,(i=n._init)(n._payload),r)}if(e_(n)||W(n))return null!==i?null:d(e,t,n,r,null);iU(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case T:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case z:return p(e,t,n,(0,r._init)(r._payload),i)}if(e_(r)||W(r))return d(t,e=e.get(n)||null,r,i,null);iU(t,r)}return null}return function l(s,u,d,m){if("object"==typeof d&&null!==d&&d.type===N&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case T:e:{for(var g=d.key,_=u;null!==_;){if(_.key===g){if((g=d.type)===N){if(7===_.tag){n(s,_.sibling),(u=i(_,d.props.children)).return=s,s=u;break e}}else if(_.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===z&&ij(g)===_.type){n(s,_.sibling),(u=i(_,d.props)).ref=iz(s,_,d),u.return=s,s=u;break e}n(s,_);break}t(s,_),_=_.sibling}d.type===N?((u=st(d.props.children,s.mode,m,d.key)).return=s,s=u):((m=se(d.type,d.key,d.props,null,s.mode,m)).ref=iz(s,u,d),m.return=s,s=m)}return o(s);case I:e:{for(_=d.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){n(s,u.sibling),(u=i(u,d.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=si(d,s.mode,m)).return=s,s=u}return o(s);case z:return l(s,u,(_=d._init)(d._payload),m)}if(e_(d))return function(i,o,l,s){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var _=f(i,d,l[m],s);if(null===_){null===d&&(d=g);break}e&&d&&null===_.alternate&&t(i,d),o=a(_,o,m),null===c?u=_:c.sibling=_,c=_,d=g}if(m===l.length)return n(i,d),ix&&ib(i,m),u;if(null===d){for(;m<l.length;m++)null!==(d=h(i,l[m],s))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return ix&&ib(i,m),u}for(d=r(i,d);m<l.length;m++)null!==(g=p(d,i,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),ix&&ib(i,m),u}(s,u,d,m);if(W(d))return function(i,o,l,s){var u=W(l);if("function"!=typeof u)throw Error(c(150));if(null==(l=u.call(l)))throw Error(c(151));for(var d=u=null,m=o,g=o=0,_=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var y=f(i,m,v.value,s);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(i,m),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y,m=_}if(v.done)return n(i,m),ix&&ib(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,s))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return ix&&ib(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,s))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),ix&&ib(i,g),u}(s,u,d,m);iU(s,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,d)).return=s):(n(s,u),(u=sr(d,s.mode,m)).return=s),o(s=u)):n(s,u)}}var iW=iq(!0),iB=iq(!1),i$=r0(null),iH=null,iV=null,iQ=null;function iK(){iQ=iV=iH=null}function iY(e){var t=i$.current;r1(i$),e._currentValue=t}function iG(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iX(e,t){iH=e,iQ=iV=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ob=!0),e.firstContext=null)}function iJ(e){var t=e._currentValue;if(iQ!==e){if(e={context:e,memoizedValue:t,next:null},null===iV){if(null===iH)throw Error(c(308));iV=e,iH.dependencies={lanes:0,firstContext:e}}else iV=iV.next=e}return t}var iZ=null;function i0(e){null===iZ?iZ=[e]:iZ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i3=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i8(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ll)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i9(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tC(e,n)}}function i7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ae(e,t,n,r){var i=e.updateQueue;i3=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===o?a=u:o.next=u,o=s;var c=e.alternate;null!==c&&(l=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s)}if(null!==a){var d=i.baseState;for(o=0,c=u=s=null,l=a;;){var h=l.lane,f=l.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=en({},d,h);break e;case 2:i3=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=f,s=d):c=c.next=f,o|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do o|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);lm|=o,e.lanes=o,e.memoizedState=d}}function at(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(c(191,i));i.call(r)}}}var an={},ar=r0(an),ai=r0(an),aa=r0(an);function ao(e){if(e===an)throw Error(c(174));return e}function al(e,t){switch(r2(aa,t),r2(ai,e),r2(ar,an),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(ar),r2(ar,t)}function as(){r1(ar),r1(ai),r1(aa)}function au(e){ao(aa.current);var t=ao(ar.current),n=eS(t,e.type);t!==n&&(r2(ai,e),r2(ar,n))}function ac(e){ai.current===e&&(r1(ar),r1(ai))}var ad=r0(0);function ah(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function ap(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var am=x.ReactCurrentDispatcher,ag=x.ReactCurrentBatchConfig,a_=0,av=null,ay=null,ab=null,aw=!1,aC=!1,ak=0,aS=0;function aE(){throw Error(c(321))}function ax(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nY(e[n],t[n]))return!1;return!0}function aT(e,t,n,r,i,a){if(a_=a,av=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,am.current=null===e||null===e.memoizedState?oe:ot,e=n(r,i),aC){a=0;do{if(aC=!1,ak=0,25<=a)throw Error(c(301));a+=1,ab=ay=null,t.updateQueue=null,am.current=on,e=n(r,i)}while(aC)}if(am.current=a7,t=null!==ay&&null!==ay.next,a_=0,ab=ay=av=null,aw=!1,t)throw Error(c(300));return e}function aI(){var e=0!==ak;return ak=0,e}function aN(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ab?av.memoizedState=ab=e:ab=ab.next=e,ab}function aP(){if(null===ay){var e=av.alternate;e=null!==e?e.memoizedState:null}else e=ay.next;var t=null===ab?av.memoizedState:ab.next;if(null!==t)ab=t,ay=e;else{if(null===e)throw Error(c(310));e={memoizedState:(ay=e).memoizedState,baseState:ay.baseState,baseQueue:ay.baseQueue,queue:ay.queue,next:null},null===ab?av.memoizedState=ab=e:ab=ab.next=e}return ab}function aR(e,t){return"function"==typeof t?t(e):t}function aD(e){var t=aP(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=ay,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,s=null,u=a;do{var d=u.lane;if((a_&d)===d)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(l=s=h,o=r):s=s.next=h,av.lanes|=d,lm|=d}u=u.next}while(null!==u&&u!==a)null===s?o=r:s.next=l,nY(r,t.memoizedState)||(ob=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,av.lanes|=a,lm|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aL(e){var t=aP(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i)nY(a,t.memoizedState)||(ob=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function aO(){}function aM(e,t){var n=av,r=aP(),i=t(),a=!nY(r.memoizedState,i);if(a&&(r.memoizedState=i,ob=!0),r=r.queue,aQ(az.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ab&&1&ab.memoizedState.tag){if(n.flags|=2048,aW(9,aA.bind(null,n,r,i,t),void 0,null),null===ls)throw Error(c(349));0!=(30&a_)||aF(n,t,i)}return i}function aF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=av.updateQueue)?(t={lastEffect:null,stores:null},av.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function aA(e,t,n,r){t.value=n,t.getSnapshot=r,aU(t)&&aj(e)}function az(e,t,n){return n(function(){aU(t)&&aj(e)})}function aU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nY(e,n)}catch(e){return!0}}function aj(e){var t=i2(e,1);null!==t&&lM(t,e,1,-1)}function aq(e){var t=aN();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aR,lastRenderedState:e},t.queue=e,e=e.dispatch=a6.bind(null,av,e),[t.memoizedState,e]}function aW(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=av.updateQueue)?(t={lastEffect:null,stores:null},av.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aB(){return aP().memoizedState}function a$(e,t,n,r){var i=aN();av.flags|=e,i.memoizedState=aW(1|t,n,void 0,void 0===r?null:r)}function aH(e,t,n,r){var i=aP();r=void 0===r?null:r;var a=void 0;if(null!==ay){var o=ay.memoizedState;if(a=o.destroy,null!==r&&ax(r,o.deps)){i.memoizedState=aW(t,n,a,r);return}}av.flags|=e,i.memoizedState=aW(1|t,n,a,r)}function aV(e,t){return a$(8390656,8,e,t)}function aQ(e,t){return aH(2048,8,e,t)}function aK(e,t){return aH(4,2,e,t)}function aY(e,t){return aH(4,4,e,t)}function aG(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function aX(e,t,n){return n=null!=n?n.concat([e]):null,aH(4,4,aG.bind(null,t,e),n)}function aJ(){}function aZ(e,t){var n=aP();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ax(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a0(e,t){var n=aP();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ax(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a1(e,t,n){return 0==(21&a_)?(e.baseState&&(e.baseState=!1,ob=!0),e.memoizedState=n):(nY(n,t)||(n=ty(),av.lanes|=n,lm|=n,e.baseState=!0),t)}function a2(e,t){var n=tk;tk=0!==n&&4>n?n:4,e(!0);var r=ag.transition;ag.transition={};try{e(!1),t()}finally{tk=n,ag.transition=r}}function a3(){return aP().memoizedState}function a4(e,t,n){var r=lO(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a5(e)?a8(t,n):null!==(n=i1(e,t,n,r))&&(lM(n,e,r,lL()),a9(n,t,r))}function a6(e,t,n){var r=lO(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a5(e))a8(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,nY(l,o)){var s=t.interleaved;null===s?(i.next=i,i0(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(lM(n,e,r,i=lL()),a9(n,t,r))}}function a5(e){var t=e.alternate;return e===av||null!==t&&t===av}function a8(e,t){aC=aw=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a9(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tC(e,n)}}var a7={readContext:iJ,useCallback:aE,useContext:aE,useEffect:aE,useImperativeHandle:aE,useInsertionEffect:aE,useLayoutEffect:aE,useMemo:aE,useReducer:aE,useRef:aE,useState:aE,useDebugValue:aE,useDeferredValue:aE,useTransition:aE,useMutableSource:aE,useSyncExternalStore:aE,useId:aE,unstable_isNewReconciler:!1},oe={readContext:iJ,useCallback:function(e,t){return aN().memoizedState=[e,void 0===t?null:t],e},useContext:iJ,useEffect:aV,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,a$(4194308,4,aG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return a$(4194308,4,e,t)},useInsertionEffect:function(e,t){return a$(4,2,e,t)},useMemo:function(e,t){var n=aN();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aN();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=a4.bind(null,av,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},aN().memoizedState=e},useState:aq,useDebugValue:aJ,useDeferredValue:function(e){return aN().memoizedState=e},useTransition:function(){var e=aq(!1),t=e[0];return e=a2.bind(null,e[1]),aN().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=av,i=aN();if(ix){if(void 0===n)throw Error(c(407));n=n()}else{if(n=t(),null===ls)throw Error(c(349));0!=(30&a_)||aF(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,aV(az.bind(null,r,a,e),[e]),r.flags|=2048,aW(9,aA.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=aN(),t=ls.identifierPrefix;if(ix){var n=iy,r=iv;t=":"+t+"R"+(n=(r&~(1<<32-td(r)-1)).toString(32)+n),0<(n=ak++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=aS++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ot={readContext:iJ,useCallback:aZ,useContext:iJ,useEffect:aQ,useImperativeHandle:aX,useInsertionEffect:aK,useLayoutEffect:aY,useMemo:a0,useReducer:aD,useRef:aB,useState:function(){return aD(aR)},useDebugValue:aJ,useDeferredValue:function(e){return a1(aP(),ay.memoizedState,e)},useTransition:function(){return[aD(aR)[0],aP().memoizedState]},useMutableSource:aO,useSyncExternalStore:aM,useId:a3,unstable_isNewReconciler:!1},on={readContext:iJ,useCallback:aZ,useContext:iJ,useEffect:aQ,useImperativeHandle:aX,useInsertionEffect:aK,useLayoutEffect:aY,useMemo:a0,useReducer:aL,useRef:aB,useState:function(){return aL(aR)},useDebugValue:aJ,useDeferredValue:function(e){var t=aP();return null===ay?t.memoizedState=e:a1(t,ay.memoizedState,e)},useTransition:function(){return[aL(aR)[0],aP().memoizedState]},useMutableSource:aO,useSyncExternalStore:aM,useId:a3,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function oi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lL(),i=lO(e),a=i5(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=i8(e,a,i))&&(lM(t,e,i,r),i9(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lL(),i=lO(e),a=i5(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=i8(e,a,i))&&(lM(t,e,i,r),i9(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lL(),r=lO(e),i=i5(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i8(e,i,r))&&(lM(t,e,r,n),i9(t,e,r))}};function oo(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!nG(n,r)||!nG(i,a)}function ol(e,t,n){var r=!1,i=r3,a=t.contextType;return"object"==typeof a&&null!==a?a=iJ(a):(i=r9(t)?r5:r4.current,a=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function os(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ou(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i4(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=iJ(a):(a=r9(t)?r5:r4.current,i.context=r8(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(oi(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oa.enqueueReplaceState(i,i.state,null),ae(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function oc(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function od(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function oh(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var of="function"==typeof WeakMap?WeakMap:Map;function op(e,t,n){(n=i5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lk||(lk=!0,lS=r),oh(e,t)},n}function om(e,t,n){(n=i5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oh(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){oh(e,t),"function"!=typeof r&&(null===lE?lE=new Set([this]):lE.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function og(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new of;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=l2.bind(null,e,t,n),t.then(e,e))}function o_(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function ov(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i5(-1,1)).tag=2,i8(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var oy=x.ReactCurrentOwner,ob=!1;function ow(e,t,n,r){t.child=null===e?iB(t,null,n,r):iW(t,e.child,n,r)}function oC(e,t,n,r,i){n=n.render;var a=t.ref;return(iX(t,i),r=aT(e,t,n,r,a,i),n=aI(),null===e||ob)?(ix&&n&&iC(t),t.flags|=1,ow(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oq(e,t,i))}function ok(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||l9(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=se(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,oS(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nG)(o,r)&&e.ref===t.ref)return oq(e,t,i)}return t.flags|=1,(e=l7(a,r)).ref=t.ref,e.return=t,t.child=e}function oS(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nG(a,r)&&e.ref===t.ref){if(ob=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,oq(e,t,i);0!=(131072&e.flags)&&(ob=!0)}}return oT(e,t,n,r,i)}function oE(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(lh,ld),ld|=n;else{if(0==(0x40000000&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(lh,ld),ld|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,r2(lh,ld),ld|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,r2(lh,ld),ld|=r;return ow(e,t,i,n),t.child}function ox(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oT(e,t,n,r,i){var a=r9(n)?r5:r4.current;return(a=r8(t,a),iX(t,i),n=aT(e,t,n,r,a,i),r=aI(),null===e||ob)?(ix&&r&&iC(t),t.flags|=1,ow(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oq(e,t,i))}function oI(e,t,n,r,i){if(r9(n)){var a=!0;ir(t)}else a=!1;if(iX(t,i),null===t.stateNode)oj(e,t),ol(t,n,r),ou(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;u="object"==typeof u&&null!==u?iJ(u):r8(t,u=r9(n)?r5:r4.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==r||s!==u)&&os(t,o,r,u),i3=!1;var h=t.memoizedState;o.state=h,ae(t,r,o,i),s=t.memoizedState,l!==r||h!==s||r6.current||i3?("function"==typeof c&&(oi(t,n,c,r),s=t.memoizedState),(l=i3||oo(t,n,l,r,h,s,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,i6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:or(t.type,l),o.props=u,d=t.pendingProps,h=o.context,s="object"==typeof(s=n.contextType)&&null!==s?iJ(s):r8(t,s=r9(n)?r5:r4.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(l!==d||h!==s)&&os(t,o,r,s),i3=!1,h=t.memoizedState,o.state=h,ae(t,r,o,i);var p=t.memoizedState;l!==d||h!==p||r6.current||i3?("function"==typeof f&&(oi(t,n,f,r),p=t.memoizedState),(u=i3||oo(t,n,u,r,h,p,s)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=u):("function"!=typeof o.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return oN(e,t,n,r,a,i)}function oN(e,t,n,r,i,a){ox(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&ii(t,n,!1),oq(e,t,a);r=t.stateNode,oy.current=t;var l=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=iW(t,e.child,null,a),t.child=iW(t,null,l,a)):ow(e,t,l,a),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function oP(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),al(e,t.containerInfo)}function oR(e,t,n,r,i){return iM(),iF(i),t.flags|=256,ow(e,t,n,r),t.child}var oD={dehydrated:null,treeContext:null,retryLane:0};function oL(e){return{baseLanes:e,cachePool:null,transitions:null}}function oO(e,t,n){var r,i=t.pendingProps,a=ad.current,o=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),r2(ad,1&a),null===e)return(iR(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=sn(l,i,0,null),e=st(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=oL(n),t.memoizedState=oD,e):oM(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,oF(e,t,o,r=od(Error(c(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=sn({mode:"visible",children:r.children},i,0,null),a=st(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&iW(t,e.child,null,o),t.child.memoizedState=oL(o),t.memoizedState=oD,a);if(0==(1&t.mode))return oF(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,oF(e,t,o,r=od(a=Error(c(419)),r,void 0))}if(l=0!=(o&e.childLanes),ob||l){if(null!==(r=ls)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:i=32;break;case 0x20000000:i=0x10000000;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,i2(e,i),lM(r,e,i,-1))}return lK(),oF(e,t,o,r=od(Error(c(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=l4.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,iE=rU(i.nextSibling),iS=t,ix=!0,iT=null,null!==e&&(im[ig++]=iv,im[ig++]=iy,im[ig++]=i_,iv=e.id,iy=e.overflow,i_=t),t=oM(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var s={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=s,t.deletions=null):(i=l7(a,s)).subtreeFlags=0xe00000&a.subtreeFlags,null!==r?o=l7(r,o):(o=st(o,l,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?oL(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=oD,i}return e=(o=e.child).sibling,i=l7(o,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function oM(e,t){return(t=sn({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function oF(e,t,n,r){return null!==r&&iF(r),iW(t,e.child,null,n),e=oM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oA(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iG(e.return,t,n)}function oz(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function oU(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ow(e,t,r.children,n),0!=(2&(r=ad.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oA(e,n,t);else if(19===e.tag)oA(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(ad,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===ah(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oz(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ah(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oz(t,!0,n,null,a);break;case"together":oz(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oj(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oq(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),lm|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(c(153));if(null!==t.child){for(n=l7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=l7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oW(e,t){if(!ix)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oB(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ao(ar.current);var a,o=null;switch(n){case"input":i=ed(e,i),r=ed(e,r),o=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),o=[];break;case"textarea":i=ey(e,i),r=ey(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rN)}for(u in eO(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null))}for(u in r){var s=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l)){if("style"===u){if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(u,n)),n=s}else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(o=o||[]).push(u,s)):"children"===u?"string"!=typeof s&&"number"!=typeof s||(o=o||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(h.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&rm("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var o$=!1,oH=!1,oV="function"==typeof WeakSet?WeakSet:Set,oQ=null;function oK(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){l1(e,t,n)}else n.current=null}}function oY(e,t,n){try{n()}catch(n){l1(e,t,n)}}var oG=!1;function oX(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&oY(t,n,a)}i=i.next}while(i!==r)}}function oJ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oZ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function o0(e){return 5===e.tag||3===e.tag||4===e.tag}function o1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var o2=null,o3=!1;function o4(e,t,n){for(n=n.child;null!==n;)o6(e,t,n),n=n.sibling}function o6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:oH||oK(n,t);case 6:var r=o2,i=o3;o2=null,o4(e,t,n),o2=r,o3=i,null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):o2.removeChild(n.stateNode));break;case 18:null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?rz(e.parentNode,n):1===e.nodeType&&rz(e,n),tV(e)):rz(o2,n.stateNode));break;case 4:r=o2,i=o3,o2=n.stateNode.containerInfo,o3=!0,o4(e,t,n),o2=r,o3=i;break;case 0:case 11:case 14:case 15:if(!oH&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)?oY(n,t,o):0!=(4&a)&&oY(n,t,o)),i=i.next}while(i!==r)}o4(e,t,n);break;case 1:if(!oH&&(oK(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){l1(n,t,e)}o4(e,t,n);break;case 21:default:o4(e,t,n);break;case 22:1&n.mode?(oH=(r=oH)||null!==n.memoizedState,o4(e,t,n),oH=r):o4(e,t,n)}}function o5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oV),t.forEach(function(t){var r=l6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function o8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=a;e:for(;null!==o;){switch(o.tag){case 5:o2=o.stateNode,o3=!1;break e;case 3:case 4:o2=o.stateNode.containerInfo,o3=!0;break e}o=o.return}if(null===o2)throw Error(c(160));o6(e,a,i),o2=null,o3=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){l1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)o9(t,e),t=t.sibling}function o9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(o8(t,e),o7(e),4&r){try{oX(3,e,e.return),oJ(3,e)}catch(t){l1(e,e.return,t)}try{oX(5,e,e.return)}catch(t){l1(e,e.return,t)}}break;case 1:o8(t,e),o7(e),512&r&&null!==n&&oK(n,n.return);break;case 5:if(o8(t,e),o7(e),512&r&&null!==n&&oK(n,n.return),32&e.flags){var i=e.stateNode;try{eI(i,"")}catch(t){l1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===l&&"radio"===a.type&&null!=a.name&&ef(i,a),eM(l,o);var u=eM(l,a);for(o=0;o<s.length;o+=2){var d=s[o],h=s[o+1];"style"===d?eD(i,h):"dangerouslySetInnerHTML"===d?eT(i,h):"children"===d?eI(i,h):E(i,d,h,u)}switch(l){case"input":ep(i,a);break;case"textarea":ew(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ev(i,!!a.multiple,p,!1):!!a.multiple!==f&&(null!=a.defaultValue?ev(i,!!a.multiple,a.defaultValue,!0):ev(i,!!a.multiple,a.multiple?[]:"",!1))}i[rB]=a}catch(t){l1(e,e.return,t)}}break;case 6:if(o8(t,e),o7(e),4&r){if(null===e.stateNode)throw Error(c(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){l1(e,e.return,t)}}break;case 3:if(o8(t,e),o7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tV(t.containerInfo)}catch(t){l1(e,e.return,t)}break;case 4:default:o8(t,e),o7(e);break;case 13:o8(t,e),o7(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,a&&(null===i.alternate||null===i.alternate.memoizedState)&&(lb=tn())),4&r&&o5(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(oH=(u=oH)||d,o8(t,e),oH=u):o8(t,e),o7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(oQ=e,d=e.child;null!==d;){for(h=oQ=d;null!==oQ;){switch(p=(f=oQ).child,f.tag){case 0:case 11:case 14:case 15:oX(4,f,f.return);break;case 1:oK(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){l1(r,n,e)}}break;case 5:oK(f,f.return);break;case 22:if(null!==f.memoizedState){lt(h);continue}}null!==p?(p.return=f,oQ=p):lt(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?(a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,o=null!=(s=h.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,l.style.display=eR("display",o))}catch(t){l1(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){l1(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:o8(t,e),o7(e),4&r&&o5(e);case 21:}}function o7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(o0(n)){var r=n;break e}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eI(i,""),r.flags&=-33);var a=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rN));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,l,o);break;default:throw Error(c(161))}}catch(t){l1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function le(e){for(;null!==oQ;){var t=oQ;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:oH||oJ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oH){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&at(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}at(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&tV(h)}}}break;default:throw Error(c(163))}oH||512&t.flags&&oZ(t)}catch(e){l1(t,t.return,e)}}if(t===e){oQ=null;break}if(null!==(n=t.sibling)){n.return=t.return,oQ=n;break}oQ=t.return}}function lt(e){for(;null!==oQ;){var t=oQ;if(t===e){oQ=null;break}var n=t.sibling;if(null!==n){n.return=t.return,oQ=n;break}oQ=t.return}}function ln(e){for(;null!==oQ;){var t=oQ;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oJ(4,t)}catch(e){l1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){l1(t,i,e)}}var a=t.return;try{oZ(t)}catch(e){l1(t,a,e)}break;case 5:var o=t.return;try{oZ(t)}catch(e){l1(t,o,e)}}}catch(e){l1(t,t.return,e)}if(t===e){oQ=null;break}var l=t.sibling;if(null!==l){l.return=t.return,oQ=l;break}oQ=t.return}}var lr=Math.ceil,li=x.ReactCurrentDispatcher,la=x.ReactCurrentOwner,lo=x.ReactCurrentBatchConfig,ll=0,ls=null,lu=null,lc=0,ld=0,lh=r0(0),lf=0,lp=null,lm=0,lg=0,l_=0,lv=null,ly=null,lb=0,lw=1/0,lC=null,lk=!1,lS=null,lE=null,lx=!1,lT=null,lI=0,lN=0,lP=null,lR=-1,lD=0;function lL(){return 0!=(6&ll)?tn():-1!==lR?lR:lR=tn()}function lO(e){return 0==(1&e.mode)?1:0!=(2&ll)&&0!==lc?lc&-lc:null!==iA.transition?(0===lD&&(lD=ty()),lD):0!==(e=tk)?e:e=void 0===(e=window.event)?16:t0(e.type)}function lM(e,t,n,r){if(50<lN)throw lN=0,lP=null,Error(c(185));tw(e,n,r),(0==(2&ll)||e!==ls)&&(e===ls&&(0==(2&ll)&&(lg|=n),4===lf&&lj(e,lc)),lF(e,r),1===n&&0===ll&&0==(1&t.mode)&&(lw=tn()+500,io&&iu()))}function lF(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-td(a),l=1<<o,s=i[o];-1===s?(0==(l&n)||0!=(l&r))&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var i=t_(e,e===ls?lc:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=lq.bind(null,e),io=!0,is(n)):is(lq.bind(null,e)),rF(function(){0==(6&ll)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ta;break;case 16:default:r=to;break;case 0x20000000:r=ts}r=e9(r,lA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lA(e,t){if(lR=-1,lD=0,0!=(6&ll))throw Error(c(327));var n=e.callbackNode;if(lZ()&&e.callbackNode!==n)return null;var r=t_(e,e===ls?lc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=lY(e,r);else{t=r;var i=ll;ll|=2;var a=lQ();for((ls!==e||lc!==t)&&(lC=null,lw=tn()+500,lH(e,t));;)try{(function(){for(;null!==lu&&!te();)lG(lu)})();break}catch(t){lV(e,t)}iK(),li.current=a,ll=i,null!==lu?t=0:(ls=null,lc=0,t=lf)}if(0!==t){if(2===t&&0!==(i=tv(e))&&(r=i,t=lz(e,i)),1===t)throw n=lp,lH(e,0),lj(e,r),lF(e,tn()),n;if(6===t)lj(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nY(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=lY(e,r))&&0!==(a=tv(e))&&(r=a,t=lz(e,a)),1===t))throw n=lp,lH(e,0),lj(e,r),lF(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:case 5:lJ(e,ly,lC);break;case 3:if(lj(e,r),(0x7c00000&r)===r&&10<(t=lb+500-tn())){if(0!==t_(e,0))break;if(((i=e.suspendedLanes)&r)!==r){lL(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rL(lJ.bind(null,e,ly,lC),t);break}lJ(e,ly,lC);break;case 4:if(lj(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var o=31-td(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lr(r/1960))-r)){e.timeoutHandle=rL(lJ.bind(null,e,ly,lC),r);break}lJ(e,ly,lC);break;default:throw Error(c(329))}}}return lF(e,tn()),e.callbackNode===n?lA.bind(null,e):null}function lz(e,t){var n=lv;return e.current.memoizedState.isDehydrated&&(lH(e,t).flags|=256),2!==(e=lY(e,t))&&(t=ly,ly=n,null!==t&&lU(t)),e}function lU(e){null===ly?ly=e:ly.push.apply(ly,e)}function lj(e,t){for(t&=~l_,t&=~lg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-td(t),r=1<<n;e[n]=-1,t&=~r}}function lq(e){if(0!=(6&ll))throw Error(c(327));lZ();var t=t_(e,0);if(0==(1&t))return lF(e,tn()),null;var n=lY(e,t);if(0!==e.tag&&2===n){var r=tv(e);0!==r&&(t=r,n=lz(e,r))}if(1===n)throw n=lp,lH(e,0),lj(e,t),lF(e,tn()),n;if(6===n)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lJ(e,ly,lC),lF(e,tn()),null}function lW(e,t){var n=ll;ll|=1;try{return e(t)}finally{0===(ll=n)&&(lw=tn()+500,io&&iu())}}function lB(e){null!==lT&&0===lT.tag&&0==(6&ll)&&lZ();var t=ll;ll|=1;var n=lo.transition,r=tk;try{if(lo.transition=null,tk=1,e)return e()}finally{tk=r,lo.transition=n,0==(6&(ll=t))&&iu()}}function l$(){ld=lh.current,r1(lh)}function lH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rO(n)),null!==lu)for(n=lu.return;null!==n;){var r=n;switch(ik(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:as(),r1(r6),r1(r4),ap();break;case 5:ac(r);break;case 4:as();break;case 13:case 19:r1(ad);break;case 10:iY(r.type._context);break;case 22:case 23:l$()}n=n.return}if(ls=e,lu=e=l7(e.current,null),lc=ld=t,lf=0,lp=null,l_=lg=lm=0,ly=lv=null,null!==iZ){for(t=0;t<iZ.length;t++)if(null!==(r=(n=iZ[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}iZ=null}return e}function lV(e,t){for(;;){var n=lu;try{if(iK(),am.current=a7,aw){for(var r=av.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}aw=!1}if(a_=0,ab=ay=av=null,aC=!1,ak=0,la.current=null,null===n||null===n.return){lf=1,lp=t,lu=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=lc,l.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s,d=l,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=o_(o);if(null!==p){p.flags&=-257,ov(p,o,l,a,t),1&p.mode&&og(a,u,t),t=p,s=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(s),t.updateQueue=g}else m.add(s);break e}if(0==(1&t)){og(a,u,t),lK();break e}s=Error(c(426))}else if(ix&&1&l.mode){var _=o_(o);if(null!==_){0==(65536&_.flags)&&(_.flags|=256),ov(_,o,l,a,t),iF(oc(s,l));break e}}a=s=oc(s,l),4!==lf&&(lf=2),null===lv?lv=[a]:lv.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=op(a,s,t);i7(a,v);break e;case 1:l=s;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===lE||!lE.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=om(a,l,t);i7(a,w);break e}}a=a.return}while(null!==a)}lX(n)}catch(e){t=e,lu===n&&null!==n&&(lu=n=n.return);continue}break}}function lQ(){var e=li.current;return li.current=a7,null===e?a7:e}function lK(){(0===lf||3===lf||2===lf)&&(lf=4),null===ls||0==(0xfffffff&lm)&&0==(0xfffffff&lg)||lj(ls,lc)}function lY(e,t){var n=ll;ll|=2;var r=lQ();for((ls!==e||lc!==t)&&(lC=null,lH(e,t));;)try{(function(){for(;null!==lu;)lG(lu)})();break}catch(t){lV(e,t)}if(iK(),ll=n,li.current=r,null!==lu)throw Error(c(261));return ls=null,lc=0,lf}function lG(e){var t=l(e.alternate,e,ld);e.memoizedProps=e.pendingProps,null===t?lX(e):lu=t,la.current=null}function lX(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var l=t.pendingProps;switch(ik(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oB(t),null;case 1:case 17:return r9(t.type)&&r7(),oB(t),null;case 3:return l=t.stateNode,as(),r1(r6),r1(r4),ap(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(null===e||null===e.child)&&(iL(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iT&&(lU(iT),iT=null))),i(e,t),oB(t),null;case 5:ac(t);var s=ao(aa.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(null===t.stateNode)throw Error(c(166));return oB(t),null}if(e=ao(ar.current),iL(t)){l=t.stateNode,n=t.type;var u=t.memoizedProps;switch(l[rW]=t,l[rB]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",l),rm("close",l);break;case"iframe":case"object":case"embed":rm("load",l);break;case"video":case"audio":for(s=0;s<rd.length;s++)rm(rd[s],l);break;case"source":rm("error",l);break;case"img":case"image":case"link":rm("error",l),rm("load",l);break;case"details":rm("toggle",l);break;case"input":eh(l,u),rm("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!u.multiple},rm("invalid",l);break;case"textarea":eb(l,u),rm("invalid",l)}for(var d in eO(n,u),s=null,u)if(u.hasOwnProperty(d)){var f=u[d];"children"===d?"string"==typeof f?l.textContent!==f&&(!0!==u.suppressHydrationWarning&&rI(l.textContent,f,e),s=["children",f]):"number"==typeof f&&l.textContent!==""+f&&(!0!==u.suppressHydrationWarning&&rI(l.textContent,f,e),s=["children",""+f]):h.hasOwnProperty(d)&&null!=f&&"onScroll"===d&&rm("scroll",l)}switch(n){case"input":es(l),em(l,u,!0);break;case"textarea":es(l),eC(l);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(l.onclick=rN)}l=s,t.updateQueue=l,null!==l&&(t.flags|=4)}else{d=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ek(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=d.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof l.is?e=d.createElement(n,{is:l.is}):(e=d.createElement(n),"select"===n&&(d=e,l.multiple?d.multiple=!0:l.size&&(d.size=l.size))):e=d.createElementNS(e,n),e[rW]=t,e[rB]=l,r(e,t,!1,!1),t.stateNode=e;e:{switch(d=eM(n,l),n){case"dialog":rm("cancel",e),rm("close",e),s=l;break;case"iframe":case"object":case"embed":rm("load",e),s=l;break;case"video":case"audio":for(s=0;s<rd.length;s++)rm(rd[s],e);s=l;break;case"source":rm("error",e),s=l;break;case"img":case"image":case"link":rm("error",e),rm("load",e),s=l;break;case"details":rm("toggle",e),s=l;break;case"input":eh(e,l),s=ed(e,l),rm("invalid",e);break;case"option":default:s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=en({},l,{value:void 0}),rm("invalid",e);break;case"textarea":eb(e,l),s=ey(e,l),rm("invalid",e)}for(u in eO(n,s),f=s)if(f.hasOwnProperty(u)){var p=f[u];"style"===u?eD(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eT(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eI(e,p):"number"==typeof p&&eI(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&E(e,u,p,d))}switch(n){case"input":es(e),em(e,l,!1);break;case"textarea":es(e),eC(e);break;case"option":null!=l.value&&e.setAttribute("value",""+eo(l.value));break;case"select":e.multiple=!!l.multiple,null!=(u=l.value)?ev(e,!!l.multiple,u,!1):null!=l.defaultValue&&ev(e,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=rN)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return oB(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,l);else{if("string"!=typeof l&&null===t.stateNode)throw Error(c(166));if(n=ao(aa.current),ao(ar.current),iL(t)){if(l=t.stateNode,n=t.memoizedProps,l[rW]=t,(u=l.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rI(l.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rI(l.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(l=(9===n.nodeType?n:n.ownerDocument).createTextNode(l))[rW]=t,t.stateNode=l}return oB(t),null;case 13:if(r1(ad),l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ix&&null!==iE&&0!=(1&t.mode)&&0==(128&t.flags))iO(),iM(),t.flags|=98560,u=!1;else if(u=iL(t),null!==l&&null!==l.dehydrated){if(null===e){if(!u)throw Error(c(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(c(317));u[rW]=t}else iM(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;oB(t),u=!1}else null!==iT&&(lU(iT),iT=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(l=null!==l)!=(null!==e&&null!==e.memoizedState)&&l&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ad.current)?0===lf&&(lf=3):lK())),null!==t.updateQueue&&(t.flags|=4),oB(t),null;case 4:return as(),i(e,t),null===e&&rv(t.stateNode.containerInfo),oB(t),null;case 10:return iY(t.type._context),oB(t),null;case 19:if(r1(ad),null===(u=t.memoizedState))return oB(t),null;if(l=0!=(128&t.flags),null===(d=u.rendering)){if(l)oW(u,!1);else{if(0!==lf||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(d=ah(e))){for(t.flags|=128,oW(u,!1),null!==(l=d.updateQueue)&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;null!==n;)u=n,e=l,u.flags&=0xe00002,null===(d=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(ad,1&ad.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>lw&&(t.flags|=128,l=!0,oW(u,!1),t.lanes=4194304)}}else{if(!l){if(null!==(e=ah(d))){if(t.flags|=128,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oW(u,!0),null===u.tail&&"hidden"===u.tailMode&&!d.alternate&&!ix)return oB(t),null}else 2*tn()-u.renderingStartTime>lw&&0x40000000!==n&&(t.flags|=128,l=!0,oW(u,!1),t.lanes=4194304)}u.isBackwards?(d.sibling=t.child,t.child=d):(null!==(n=u.last)?n.sibling=d:t.child=d,u.last=d)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=ad.current,r2(ad,l?1&n|2:1&n),t;return oB(t),null;case 22:case 23:return l$(),l=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==l&&(t.flags|=8192),l&&0!=(1&t.mode)?0!=(0x40000000&ld)&&(oB(t),6&t.subtreeFlags&&(t.flags|=8192)):oB(t),null;case 24:case 25:return null}throw Error(c(156,t.tag))}(n,t,ld))){lu=n;return}}else{if(null!==(n=function(e,t){switch(ik(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return as(),r1(r6),r1(r4),ap(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ac(t),null;case 13:if(r1(ad),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(c(340));iM()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(ad),null;case 4:return as(),null;case 10:return iY(t.type._context),null;case 22:case 23:return l$(),null;default:return null}}(n,t))){n.flags&=32767,lu=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lf=6,lu=null;return}}if(null!==(t=t.sibling)){lu=t;return}lu=t=e}while(null!==t)0===lf&&(lf=5)}function lJ(e,t,n){var r=tk,i=lo.transition;try{lo.transition=null,tk=1,function(e,t,n,r){do lZ();while(null!==lT)if(0!=(6&ll))throw Error(c(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-td(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===ls&&(lu=ls=null,lc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||lx||(lx=!0,o=to,l=function(){return lZ(),null},e9(o,l)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=lo.transition,lo.transition=null;var o,l,s,u,d,h=tk;tk=1;var f=ll;ll|=4,la.current=null,function(e,t){if(rP=tK,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var l=0,s=-1,u=-1,d=0,h=0,f=e,p=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(s=l+a),f!==o||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++d===a&&(s=l),p===o&&++h===r&&(u=l),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rR={focusedElem:e,selectionRange:n},tK=!1,oQ=t;null!==oQ;)if(e=(t=oQ).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,oQ=e;else for(;null!==oQ;){t=oQ;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,_=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:or(t.type,g),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(c(163))}}catch(e){l1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,oQ=e;break}oQ=t.return}m=oG,oG=!1}(e,n),o9(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nJ(n,a);var o=nJ(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rR),tK=!!rP,rR=rP=null,e.current=n,s=n,u=e,d=i,oQ=s,function e(t,n,r){for(var i=0!=(1&t.mode);null!==oQ;){var a=oQ,o=a.child;if(22===a.tag&&i){var l=null!==a.memoizedState||o$;if(!l){var s=a.alternate,u=null!==s&&null!==s.memoizedState||oH;s=o$;var c=oH;if(o$=l,(oH=u)&&!c)for(oQ=a;null!==oQ;)u=(l=oQ).child,22===l.tag&&null!==l.memoizedState?ln(a):null!==u?(u.return=l,oQ=u):ln(a);for(;null!==o;)oQ=o,e(o,n,r),o=o.sibling;oQ=a,o$=s,oH=c}le(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==o?(o.return=a,oQ=o):le(t,n,r)}}(s,u,d),tt(),ll=f,tk=h,lo.transition=a}else e.current=n;if(lx&&(lx=!1,lT=e,lI=i),0===(a=e.pendingLanes)&&(lE=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),lF(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(lk)throw lk=!1,e=lS,lS=null,e;0!=(1&lI)&&0!==e.tag&&lZ(),0!=(1&(a=e.pendingLanes))?e===lP?lN++:(lN=0,lP=e):lN=0,iu()}}(e,t,n,r)}finally{lo.transition=i,tk=r}return null}function lZ(){if(null!==lT){var e=tS(lI),t=lo.transition,n=tk;try{if(lo.transition=null,tk=16>e?16:e,null===lT)var r=!1;else{if(e=lT,lT=null,lI=0,0!=(6&ll))throw Error(c(331));var i=ll;for(ll|=4,oQ=e.current;null!==oQ;){var a=oQ,o=a.child;if(0!=(16&oQ.flags)){var l=a.deletions;if(null!==l){for(var s=0;s<l.length;s++){var u=l[s];for(oQ=u;null!==oQ;){var d=oQ;switch(d.tag){case 0:case 11:case 15:oX(8,d,a)}var h=d.child;if(null!==h)h.return=d,oQ=h;else for(;null!==oQ;){var f=(d=oQ).sibling,p=d.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rW],delete n[rB],delete n[rH],delete n[rV],delete n[rQ]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(d),d===u){oQ=null;break}if(null!==f){f.return=p,oQ=f;break}oQ=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(null!==g)}}oQ=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,oQ=o;else for(;null!==oQ;){if(a=oQ,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:oX(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,oQ=v;break}oQ=a.return}}var y=e.current;for(oQ=y;null!==oQ;){var b=(o=oQ).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,oQ=b;else for(o=y;null!==oQ;){if(l=oQ,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:oJ(9,l)}}catch(e){l1(l,l.return,e)}if(l===o){oQ=null;break}var w=l.sibling;if(null!==w){w.return=l.return,oQ=w;break}oQ=l.return}}if(ll=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tk=n,lo.transition=t}}return!1}function l0(e,t,n){t=op(e,t=oc(n,t),1),e=i8(e,t,1),t=lL(),null!==e&&(tw(e,1,t),lF(e,t))}function l1(e,t,n){if(3===e.tag)l0(e,e,n);else for(;null!==t;){if(3===t.tag){l0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===lE||!lE.has(r))){e=om(t,e=oc(n,e),1),t=i8(t,e,1),e=lL(),null!==t&&(tw(t,1,e),lF(t,e));break}}t=t.return}}function l2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lL(),e.pingedLanes|=e.suspendedLanes&n,ls===e&&(lc&n)===n&&(4===lf||3===lf&&(0x7c00000&lc)===lc&&500>tn()-lb?lH(e,0):l_|=n),lF(e,t)}function l3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(0x7c00000&(tm<<=1))&&(tm=4194304)));var n=lL();null!==(e=i2(e,t))&&(tw(e,t,n),lF(e,n))}function l4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),l3(e,n)}function l6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}null!==r&&r.delete(t),l3(e,n)}function l5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function l8(e,t,n,r){return new l5(e,t,n,r)}function l9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function l7(e,t){var n=e.alternate;return null===n?((n=l8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function se(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)l9(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case N:return st(n.children,i,a,t);case P:o=8,i|=8;break;case R:return(e=l8(12,n,t,2|i)).elementType=R,e.lanes=a,e;case M:return(e=l8(13,n,t,i)).elementType=M,e.lanes=a,e;case F:return(e=l8(19,n,t,i)).elementType=F,e.lanes=a,e;case j:return sn(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case D:o=10;break e;case L:o=9;break e;case O:o=11;break e;case A:o=14;break e;case z:o=16,r=null;break e}throw Error(c(130,null==e?e:typeof e,""))}return(t=l8(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function st(e,t,n,r){return(e=l8(7,e,r,t)).lanes=n,e}function sn(e,t,n,r){return(e=l8(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function sr(e,t,n){return(e=l8(6,e,null,t)).lanes=n,e}function si(e,t,n){return(t=l8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sa(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function so(e,t,n,r,i,a,o,l,s){return e=new sa(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=l8(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(a),e}function sl(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(c(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ss(e,t,n,r,i,a,o,l,s){return(e=so(n,r,!0,e,i,a,o,l,s)).context=sl(null),n=e.current,(a=i5(r=lL(),i=lO(n))).callback=null!=t?t:null,i8(n,a,i),e.current.lanes=i,tw(e,i,r),lF(e,r),e}function su(e,t,n,r){var i=t.current,a=lL(),o=lO(i);return n=sl(n),null===t.context?t.context=n:t.pendingContext=n,(t=i5(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i8(i,t,o))&&(lM(e,i,o,a),i9(e,i,o)),o}function sc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function sd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function sh(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r6.current)ob=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ob=!1,function(e,t,n){switch(t.tag){case 3:oP(t),iM();break;case 5:au(t);break;case 1:r9(t.type)&&ir(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(i$,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(ad,1&ad.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return oO(e,t,n);return r2(ad,1&ad.current),null!==(e=oq(e,t,n))?e.sibling:null}r2(ad,1&ad.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return oU(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(ad,ad.current),!r)return null;break;case 22:case 23:return t.lanes=0,oE(e,t,n)}return oq(e,t,n)}(e,t,n);ob=0!=(131072&e.flags)}}else ob=!1,ix&&0!=(1048576&t.flags)&&iw(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oj(e,t),e=t.pendingProps;var i=r8(t,r4.current);iX(t,n),i=aT(null,t,r,e,i,n);var a=aI();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(a=!0,ir(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i4(t),i.updater=oa,t.stateNode=i,i._reactInternals=t,ou(t,r,e,n),t=oN(null,t,r,!0,a,n)):(t.tag=0,ix&&a&&iC(t),ow(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oj(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return l9(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=or(r,e),i){case 0:t=oT(null,t,r,e,n);break e;case 1:t=oI(null,t,r,e,n);break e;case 11:t=oC(null,t,r,e,n);break e;case 14:t=ok(null,t,r,or(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oI(e,t,r,i,n);case 3:e:{if(oP(t),null===e)throw Error(c(387));r=t.pendingProps,i=(a=t.memoizedState).element,i6(e,t),ae(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=oc(Error(c(423)),t),t=oR(e,t,r,n,i);break e}if(r!==i){i=oc(Error(c(424)),t),t=oR(e,t,r,n,i);break e}for(iE=rU(t.stateNode.containerInfo.firstChild),iS=t,ix=!0,iT=null,n=iB(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iM(),r===i){t=oq(e,t,n);break e}ow(e,t,r,n)}t=t.child}return t;case 5:return au(t),null===e&&iR(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,rD(r,i)?o=null:null!==a&&rD(r,a)&&(t.flags|=32),ox(e,t),ow(e,t,o,n),t.child;case 6:return null===e&&iR(t),null;case 13:return oO(e,t,n);case 4:return al(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iW(t,null,r,n):ow(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oC(e,t,r,i,n);case 7:return ow(e,t,t.pendingProps,n),t.child;case 8:case 12:return ow(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,r2(i$,r._currentValue),r._currentValue=o,null!==a){if(nY(a.value,o)){if(a.children===i.children&&!r6.current){t=oq(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var s=l.firstContext;null!==s;){if(s.context===r){if(1===a.tag){(s=i5(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),iG(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(c(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),iG(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}ow(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iX(t,n),r=r(i=iJ(i)),t.flags|=1,ow(e,t,r,n),t.child;case 14:return i=or(r=t.type,t.pendingProps),i=or(r.type,i),ok(e,t,r,i,n);case 15:return oS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oj(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iX(t,n),ol(t,r,i),ou(t,r,i,n),oN(null,t,r,!0,e,n);case 19:return oU(e,t,n);case 22:return oE(e,t,n)}throw Error(c(156,t.tag))};var sf="function"==typeof reportError?reportError:function(e){console.error(e)};function sp(e){this._internalRoot=e}function sm(e){this._internalRoot=e}function sg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s_(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sv(){}function sy(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var l=i;i=function(){var e=sc(o);l.call(e)}}su(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=sc(o);a.call(e)}}var o=ss(t,r,e,0,null,!1,!1,"",sv);return e._reactRootContainer=o,e[r$]=o.current,rv(8===e.nodeType?e.parentNode:e),lB(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var l=r;r=function(){var e=sc(s);l.call(e)}}var s=so(e,0,!1,null,null,!1,!1,"",sv);return e._reactRootContainer=s,e[r$]=s.current,rv(8===e.nodeType?e.parentNode:e),lB(function(){su(t,s,n,r)}),s}(n,t,e,i,r);return sc(o)}sm.prototype.render=sp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(c(409));su(e,t,null,null)},sm.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lB(function(){su(null,e,null,null)}),t[r$]=null}},sm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tA.length&&0!==t&&t<tA[n].priority;n++);tA.splice(n,0,e),0===n&&tq(e)}},tE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tC(t,1|n),lF(t,tn()),0==(6&ll)&&(lw=tn()+500,iu()))}break;case 13:lB(function(){var t=i2(e,1);null!==t&&lM(t,e,1,lL())}),sh(e,1)}},tx=function(e){if(13===e.tag){var t=i2(e,0x8000000);null!==t&&lM(t,e,0x8000000,lL()),sh(e,0x8000000)}},tT=function(e){if(13===e.tag){var t=lO(e),n=i2(e,t);null!==n&&lM(n,e,t,lL()),sh(e,t)}},tI=function(){return tk},tN=function(e,t){var n=tk;try{return tk=e,t()}finally{tk=n}},ez=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rX(r);if(!i)throw Error(c(90));eu(r),ep(r,i)}}}break;case"textarea":ew(e,n);break;case"select":null!=(t=n.value)&&ev(e,!!n.multiple,t,!1)}},e$=lW,eH=lB;var sb={findFiberByHostInstance:rK,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sw={bundleType:sb.bundleType,version:sb.version,rendererPackageName:sb.rendererPackageName,rendererConfig:sb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:sb.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sC.isDisabled&&sC.supportsFiber)try{tu=sC.inject(sw),tc=sC}catch(e){}}B={usingClientEntryPoint:!1,Events:[rY,rG,rX,eW,eB,lW]},$=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sg(t))throw Error(c(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},H=function(e,t){if(!sg(e))throw Error(c(299));var n=!1,r="",i=sf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=so(e,1,!1,null,null,n,!1,r,i),e[r$]=t.current,rv(8===e.nodeType?e.parentNode:e),new sp(t)},V=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(c(188));throw Error(c(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},Q=function(e){return lB(e)},K=function(e,t,n){if(!s_(t))throw Error(c(200));return sy(null,e,t,!0,n)},Y=function(e,t,n){if(!sg(e))throw Error(c(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=sf;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ss(t,null,e,1,null!=n?n:null,i,!1,a,o),e[r$]=t.current,rv(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sm(t)},G=function(e,t,n){if(!s_(t))throw Error(c(200));return sy(null,e,t,!1,n)},X=function(e){if(!s_(e))throw Error(c(40));return!!e._reactRootContainer&&(lB(function(){sy(null,null,e,!1,function(){e._reactRootContainer=null,e[r$]=null})}),!0)},J=lW,Z=function(e,t,n,r){if(!s_(n))throw Error(c(200));if(null==e||void 0===e._reactInternals)throw Error(c(38));return sy(e,t,n,!1,r)},ee="18.3.1-next-f1338f8080-20240426"}),j("fO90s",function(e,t){e.exports=U("gcnCG")}),j("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,n))u<i&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(p(e.exports,"unstable_now",()=>o,e=>o=e),p(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),p(e.exports,"unstable_ImmediatePriority",()=>s,e=>s=e),p(e.exports,"unstable_LowPriority",()=>u,e=>u=e),p(e.exports,"unstable_NormalPriority",()=>c,e=>c=e),p(e.exports,"unstable_Profiling",()=>d,e=>d=e),p(e.exports,"unstable_UserBlockingPriority",()=>h,e=>h=e),p(e.exports,"unstable_cancelCallback",()=>f,e=>f=e),p(e.exports,"unstable_continueExecution",()=>m,e=>m=e),p(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),p(e.exports,"unstable_getCurrentPriorityLevel",()=>_,e=>_=e),p(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),p(e.exports,"unstable_next",()=>y,e=>y=e),p(e.exports,"unstable_pauseExecution",()=>b,e=>b=e),p(e.exports,"unstable_requestPaint",()=>w,e=>w=e),p(e.exports,"unstable_runWithPriority",()=>C,e=>C=e),p(e.exports,"unstable_scheduleCallback",()=>k,e=>k=e),p(e.exports,"unstable_shouldYield",()=>S,e=>S=e),p(e.exports,"unstable_wrapCallback",()=>E,e=>E=e),"object"==typeof performance&&"function"==typeof performance.now){var o,l,s,u,c,d,h,f,m,g,_,v,y,b,w,C,k,S,E,x,T=performance;o=function(){return T.now()}}else{var I=Date,N=I.now();o=function(){return I.now()-N}}var P=[],R=[],D=1,L=null,O=3,M=!1,F=!1,A=!1,z="function"==typeof setTimeout?setTimeout:null,U="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function q(e){for(var t=r(R);null!==t;){if(null===t.callback)i(R);else if(t.startTime<=e)i(R),t.sortIndex=t.expirationTime,n(P,t);else break;t=r(R)}}function W(e){if(A=!1,q(e),!F){if(null!==r(P))F=!0,Z(B);else{var t=r(R);null!==t&&ee(W,t.startTime-e)}}}function B(e,t){F=!1,A&&(A=!1,U(V),V=-1),M=!0;var n=O;try{for(q(t),L=r(P);null!==L&&(!(L.expirationTime>t)||e&&!Y());){var a=L.callback;if("function"==typeof a){L.callback=null,O=L.priorityLevel;var l=a(L.expirationTime<=t);t=o(),"function"==typeof l?L.callback=l:L===r(P)&&i(P),q(t)}else i(P);L=r(P)}if(null!==L)var s=!0;else{var u=r(R);null!==u&&ee(W,u.startTime-t),s=!1}return s}finally{L=null,O=n,M=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var $=!1,H=null,V=-1,Q=5,K=-1;function Y(){return!(o()-K<Q)}function G(){if(null!==H){var e=o();K=e;var t=!0;try{t=H(!0,e)}finally{t?x():($=!1,H=null)}}else $=!1}if("function"==typeof j)x=function(){j(G)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,J=X.port2;X.port1.onmessage=G,x=function(){J.postMessage(null)}}else x=function(){z(G,0)};function Z(e){H=e,$||($=!0,x())}function ee(e,t){V=z(function(){e(o())},t)}l=5,s=1,u=4,c=3,d=null,h=2,f=function(e){e.callback=null},m=function(){F||M||(F=!0,Z(B))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<e?Math.floor(1e3/e):5},_=function(){return O},v=function(){return r(P)},y=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},b=function(){},w=function(){},C=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},k=function(e,t,i){var a=o();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=i+l,e={id:D++,callback:t,priorityLevel:e,startTime:i,expirationTime:l,sortIndex:-1},i>a?(e.sortIndex=i,n(R,e),null===r(P)&&e===r(R)&&(A?(U(V),V=-1):A=!0,ee(W,i-a))):(e.sortIndex=l,n(P,e),F||M||(F=!0,Z(B))),e},S=Y,E=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}});var q={};q=U("1b2ls");var W=U("acw62"),B={};p(B,"createRoot",()=>E,e=>E=e),p(B,"hydrateRoot",()=>x,e=>x=e);var $={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),E=($=U("Xw6Mv")).createRoot,x=$.hydrateRoot;/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W=(U("acw62"),U("acw62"));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(g=T||(T={})).Pop="POP",g.Push="PUSH",g.Replace="REPLACE";const V="popstate";function Q(e,t){if(!1===e||null==e)throw Error(t)}function K(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function Y(e,t){return{usr:e.state,key:e.key,idx:t}}function G(e,t,n,r){return void 0===n&&(n=null),H({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?J(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function X(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function J(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(_=I||(I={})).data="data",_.deferred="deferred",_.redirect="redirect",_.error="error";const Z=/^:[\w-]+$/,ee=e=>"*"===e;function et(e,t){var n,r,i;let a,o;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[l,s]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),K("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(a.push({paramName:"*"}),o+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":""!==n&&"/"!==n&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),a]),u=t.match(l);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=h[n]||"";d=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let a=h[n];return i&&!a?e[r]=void 0:e[r]=(a||"").replace(/%2F/g,"/"),e},{}),pathname:c,pathnameBase:d,pattern:e}}function en(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function er(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ei(e,t){let n=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function ea(e,t,n,r){let i,a;void 0===r&&(r=!1),"string"==typeof e?i=J(e):(Q(!(i=H({},e)).pathname||!i.pathname.includes("?"),er("?","pathname","search",i)),Q(!i.pathname||!i.pathname.includes("#"),er("#","pathname","hash",i)),Q(!i.search||!i.search.includes("#"),er("#","search","hash",i)));let o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let s=function(e,t){let n;void 0===t&&(t="/");let{pathname:r,search:i="",hash:a=""}="string"==typeof e?J(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:es(i),hash:eu(a)}}(i,a),u=l&&"/"!==l&&l.endsWith("/"),c=(o||"."===l)&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||c)&&(s.pathname+="/"),s}const eo=e=>e.join("/").replace(/\/\/+/g,"/"),el=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),es=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",eu=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("deferred");/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W=U("acw62");function ec(){return(ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const ed=/*#__PURE__*/W.createContext(null),eh=/*#__PURE__*/W.createContext(null),ef=/*#__PURE__*/W.createContext(null),ep=/*#__PURE__*/W.createContext(null),em=/*#__PURE__*/W.createContext({outlet:null,matches:[],isDataRoute:!1}),eg=/*#__PURE__*/W.createContext(null);function e_(){return null!=W.useContext(ep)}function ev(){return e_()||Q(!1),W.useContext(ep).location}function ey(e){W.useContext(ef).static||W.useLayoutEffect(e)}function eb(){let{isDataRoute:e}=W.useContext(em);return e?function(){let e;let{router:t}=(eE.UseNavigateStable,(e=W.useContext(ed))||Q(!1),e),n=eT(ex.UseNavigateStable),r=W.useRef(!1);return ey(()=>{r.current=!0}),W.useCallback(function(e,i){void 0===i&&(i={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,ec({fromRouteId:n},i)))},[t,n])}():function(){e_()||Q(!1);let e=W.useContext(ed),{basename:t,future:n,navigator:r}=W.useContext(ef),{matches:i}=W.useContext(em),{pathname:a}=ev(),o=JSON.stringify(ei(i,n.v7_relativeSplatPath)),l=W.useRef(!1);return ey(()=>{l.current=!0}),W.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"==typeof n){r.go(n);return}let s=ea(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:eo([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function ew(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=W.useContext(ef),{matches:i}=W.useContext(em),{pathname:a}=ev(),o=JSON.stringify(ei(i,r.v7_relativeSplatPath));return W.useMemo(()=>ea(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}const eC=/*#__PURE__*/W.createElement(function(){var e;let t,n,r,i;let a=(n=W.useContext(eg),ex.UseRouteError,(t=W.useContext(eh))||Q(!1),r=t,i=eT(ex.UseRouteError),void 0!==n?n:null==(e=r.errors)?void 0:e[i]),o=null!=a&&"number"==typeof a.status&&"string"==typeof a.statusText&&"boolean"==typeof a.internal&&"data"in a?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),l=a instanceof Error?a.stack:null;return /*#__PURE__*/W.createElement(W.Fragment,null,/*#__PURE__*/W.createElement("h2",null,"Unexpected Application Error!"),/*#__PURE__*/W.createElement("h3",{style:{fontStyle:"italic"}},o),l?/*#__PURE__*/W.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},l):null,null)},null);class ek extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?/*#__PURE__*/W.createElement(em.Provider,{value:this.props.routeContext},/*#__PURE__*/W.createElement(eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eS(e){let{routeContext:t,match:n,children:r}=e,i=W.useContext(ed);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),/*#__PURE__*/W.createElement(em.Provider,{value:t},r)}var eE=((v=eE||{}).UseBlocker="useBlocker",v.UseRevalidator="useRevalidator",v.UseNavigateStable="useNavigate",v),ex=((y=ex||{}).UseBlocker="useBlocker",y.UseLoaderData="useLoaderData",y.UseActionData="useActionData",y.UseRouteError="useRouteError",y.UseNavigation="useNavigation",y.UseRouteLoaderData="useRouteLoaderData",y.UseMatches="useMatches",y.UseRevalidator="useRevalidator",y.UseNavigateStable="useNavigate",y.UseRouteId="useRouteId",y);function eT(e){let t;let n=((t=W.useContext(em))||Q(!1),t),r=n.matches[n.matches.length-1];return r.route.id||Q(!1),r.route.id}const eI={};function eN(e){Q(!1)}function eP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=T.Pop,navigator:a,static:o=!1,future:l}=e;e_()&&Q(!1);let s=t.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:s,navigator:a,static:o,future:ec({v7_relativeSplatPath:!1},l)}),[s,l,a,o]);"string"==typeof r&&(r=J(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=W.useMemo(()=>{let e=en(c,s);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[s,c,d,h,f,p,i]);return null==m?null:/*#__PURE__*/W.createElement(ef.Provider,{value:u},/*#__PURE__*/W.createElement(ep.Provider,{children:n,value:m}))}function eR(e){let{children:t,location:n}=e;return function(e,t,n,r){var i,a;let o;e_()||Q(!1);let{navigator:l}=W.useContext(ef),{matches:s}=W.useContext(em),u=s[s.length-1],c=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let h=ev();if(t){let e="string"==typeof t?J(t):t;"/"===d||(null==(i=e.pathname)?void 0:i.startsWith(d))||Q(!1),o=e}else o=h;let f=o.pathname||"/",p=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=(void 0===a&&(a="/"),function(e,t,n,r){let i=en(("string"==typeof t?J(t):t).pathname||"/",n);if(null==i)return null;let a=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let a=(t,a,o)=>{var l;let s,u,c={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};c.relativePath.startsWith("/")&&(Q(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),c.relativePath=c.relativePath.slice(i.length));let d=eo([i,c.relativePath]),h=r.concat(c);t.children&&t.children.length>0&&(Q(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+d+'".'),e(t.children,n,h,d)),(null!=t.path||t.index)&&n.push({path:d,score:(l=t.index,u=(s=d.split("/")).length,s.some(ee)&&(u+=-2),l&&(u+=2),s.filter(e=>!ee(e)).reduce((e,t)=>e+(Z.test(t)?3:""===t?1:10),u)),routesMeta:h})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];let l=e(i.join("/")),s=[];return s.push(...l.map(e=>""===e?o:[o,e].join("/"))),a&&s.push(...l),s.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);(function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})})(a);let o=null;for(let e=0;null==o&&e<a.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return K(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i);o=function(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let e=0;e<r.length;++e){let l=r[e],s=e===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=et({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u),d=l.route;if(!c&&s&&n&&!r[r.length-1].route.index&&(c=et({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:eo([a,c.pathname]),pathnameBase:el(eo([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=eo([a,c.pathnameBase]))}return o}(a[e],t,r)}return o}(e,{pathname:p},a,!1)),g=function(e,t,n,r){var i,a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(null==(a=r)||!a.v7_partialHydration||0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&(null==l?void 0:l[e.route.id])!==void 0);e>=0||Q(!1),o=o.slice(0,Math.min(o.length,e+1))}let s=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){s=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{var a;let c;let d=!1,h=null,f=null;n&&(c=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||eC,s&&(u<0&&0===i?(eI[a="route-fallback"]||(eI[a]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,i+1)),m=()=>{let t;return t=c?h:d?f:r.route.Component?/*#__PURE__*/W.createElement(r.route.Component,null):r.route.element?r.route.element:e,/*#__PURE__*/W.createElement(eS,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?/*#__PURE__*/W.createElement(ek,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:eo([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:eo([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,void 0,void 0);return t&&g?/*#__PURE__*/W.createElement(ep.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:T.Pop}},g):g}(function e(t,n){void 0===n&&(n=[]);let r=[];return W.Children.forEach(t,(t,i)=>{if(!/*#__PURE__*/W.isValidElement(t))return;let a=[...n,i];if(t.type===W.Fragment){r.push.apply(r,e(t.props.children,a));return}t.type!==eN&&Q(!1),t.props.index&&t.props.children&&Q(!1);let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=e(t.props.children,a)),r.push(o)}),r}(t),n)}W.startTransition;var eD=((b=eD||{})[b.pending=0]="pending",b[b.success=1]="success",b[b.error=2]="error",b);function eL(){return(eL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}new Promise(()=>{});const eO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}const eM=W.startTransition;function eF(e){let{basename:t,children:n,future:r,window:i}=e,a=W.useRef();null==a.current&&(a.current=function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=T.Pop,s=null,u=c();function c(){return(o.state||{idx:null}).idx}function d(){l=T.Pop;let e=c(),t=null==e?null:e-u;u=e,s&&s({action:l,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:X(e);return Q(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==u&&(u=0,o.replaceState(H({},o.state,{idx:u}),""));let f={get action(){return l},get location(){return e(i,o)},listen(e){if(s)throw Error("A history only accepts one active listener");return i.addEventListener(V,d),s=e,()=>{i.removeEventListener(V,d),s=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=T.Push;let n=G(f.location,e,t),r=Y(n,u=c()+1),d=f.createHref(n);try{o.pushState(r,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(d)}a&&s&&s({action:l,location:f.location,delta:1})},replace:function(e,t){l=T.Replace;let n=G(f.location,e,t),r=Y(n,u=c()),i=f.createHref(n);o.replaceState(r,"",i),a&&s&&s({action:l,location:f.location,delta:0})},go:e=>o.go(e)};return f}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return G("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:X(t)},null,{window:i,v5Compat:!0}));let o=a.current,[l,s]=W.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=W.useCallback(e=>{u&&eM?eM(()=>s(e)):s(e)},[s,u]);return W.useLayoutEffect(()=>o.listen(c),[o,c]),/*#__PURE__*/W.createElement(eP,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}$.flushSync,W.useId;const eA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eU=/*#__PURE__*/W.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:s,to:u,preventScrollReset:c,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,eO),{basename:f}=W.useContext(ef),p=!1;if("string"==typeof u&&ez.test(u)&&(n=u,eA))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),n=en(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(e){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;e_()||Q(!1);let{basename:r,navigator:i}=W.useContext(ef),{hash:a,pathname:o,search:l}=ew(e,{relative:n}),s=o;return"/"!==r&&(s="/"===o?r:eo([r,o])),i.createHref({pathname:s,search:l,hash:a})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,s=eb(),u=ev(),c=ew(e,{relative:o});return W.useCallback(t=>{0!==t.button||n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),s(e,{replace:void 0!==r?r:X(u)===X(c),state:i,preventScrollReset:a,relative:o,viewTransition:l}))},[u,s,c,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:s,preventScrollReset:c,relative:i,viewTransition:d});return /*#__PURE__*/W.createElement("a",eL({},h,{href:n||m,onClick:p||a?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:s}))});(w=N||(N={})).UseScrollRestoration="useScrollRestoration",w.UseSubmit="useSubmit",w.UseSubmitFetcher="useSubmitFetcher",w.UseFetcher="useFetcher",w.useViewTransitionState="useViewTransitionState",(C=P||(P={})).UseFetcher="useFetcher",C.UseFetchers="useFetchers",C.UseScrollRestoration="useScrollRestoration";U("acw62");var ej=function({cartCount:e}){return/*#__PURE__*/(0,q.jsx)("nav",{children:/*#__PURE__*/(0,q.jsxs)("ul",{children:[/*#__PURE__*/(0,q.jsx)("li",{children:/*#__PURE__*/(0,q.jsx)(eU,{to:"/",children:"Hem"})}),/*#__PURE__*/(0,q.jsx)("li",{children:/*#__PURE__*/(0,q.jsxs)(eU,{to:"/cart",children:["Varukorg (",e,")"]})})," "]})})},W=U("acw62"),eq={},eW=eq={};function eB(){throw Error("setTimeout has not been defined")}function e$(){throw Error("clearTimeout has not been defined")}function eH(e){if(R===setTimeout)return setTimeout(e,0);if((R===eB||!R)&&setTimeout)return R=setTimeout,setTimeout(e,0);try{return R(e,0)}catch(t){try{return R.call(null,e,0)}catch(t){return R.call(this,e,0)}}}!function(){try{R="function"==typeof setTimeout?setTimeout:eB}catch(e){R=eB}try{D="function"==typeof clearTimeout?clearTimeout:e$}catch(e){D=e$}}();var eV=[],eQ=!1,eK=-1;function eY(){eQ&&L&&(eQ=!1,L.length?eV=L.concat(eV):eK=-1,eV.length&&eG())}function eG(){if(!eQ){var e=eH(eY);eQ=!0;for(var t=eV.length;t;){for(L=eV,eV=[];++eK<t;)L&&L[eK].run();eK=-1,t=eV.length}L=null,eQ=!1,function(e){if(D===clearTimeout)return clearTimeout(e);if((D===e$||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(e);try{D(e)}catch(t){try{return D.call(null,e)}catch(t){return D.call(this,e)}}}(e)}}function eX(e,t){this.fun=e,this.array=t}function eJ(){}eW.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];eV.push(new eX(e,t)),1!==eV.length||eQ||eH(eG)},eX.prototype.run=function(){this.fun.apply(null,this.array)},eW.title="browser",eW.browser=!0,eW.env={},eW.argv=[],eW.version="",eW.versions={},eW.on=eJ,eW.addListener=eJ,eW.once=eJ,eW.off=eJ,eW.removeListener=eJ,eW.removeAllListeners=eJ,eW.emit=eJ,eW.prependListener=eJ,eW.prependOnceListener=eJ,eW.listeners=function(e){return[]},eW.binding=function(e){throw Error("process.binding is not supported")},eW.cwd=function(){return"/"},eW.chdir=function(e){throw Error("process.chdir is not supported")},eW.umask=function(){return 0};const eZ={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},e0=function(e,t){if(!e)throw e1(t)},e1=function(e){return Error("Firebase Database ("+eZ.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},e2=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},e3=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")},e4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,l=t+2<e.length,s=l?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4,d=(15&o)<<2|s>>6,h=63&s;l||(h=64,a||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(e2(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):e3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,l=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==o||null==l)throw new e6;let s=i<<2|a>>4;if(r.push(s),64!==o){let e=a<<4&240|o>>2;if(r.push(e),64!==l){let e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e5=function(e){let t=e2(e);return e4.encodeByteArray(t,!0)},e8=function(e){return e5(e).replace(/\./g,"")},e9=function(e){try{return e4.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},e7=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==F)return F;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,te=()=>{if(void 0===eq||void 0===eq.env)return;let e=void 0;if(e)return JSON.parse(e)},tt=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&e9(e[1]);return t&&JSON.parse(t)},tn=()=>{try{return e7()||te()||tt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tr=e=>{var t,n;return null===(n=null===(t=tn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ti=e=>{let t=tr(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ta=()=>{var e;return null===(e=tn())||void 0===e?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function tl(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function ts(){return!0===eZ.NODE_CLIENT||!0===eZ.NODE_ADMIN}class tu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?i.replace(td,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new tu(r,o,n)}}const td=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){return JSON.parse(e)}function tf(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=function(e){let t={},n={},r={},i="";try{let a=e.split(".");t=th(e9(a[0])||""),n=th(e9(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},tm=function(e){let t=tp(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},tg=function(e){let t=tp(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tv(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ty(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tb(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function tw(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(tC(n)&&tC(a)){if(!tw(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tC(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let n,r;t||(t=0);let i=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)i[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)i[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=(t<<1|t>>>31)&0xffffffff}let a=this.chain_[0],o=this.chain_[1],l=this.chain_[2],s=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=s^o&(l^s),r=0x5a827999):(n=o^l^s,r=0x6ed9eba1):e<60?(n=o&l|s&(o|l),r=0x8f1bbcdc):(n=o^l^s,r=0xca62c1d6);let t=(a<<5|a>>>27)+n+u+r+i[e]&0xffffffff;u=s,s=l,l=(o<<30|o>>>2)&0xffffffff,o=a,a=t}this.chain_[0]=this.chain_[0]+a&0xffffffff,this.chain_[1]=this.chain_[1]+o&0xffffffff,this.chain_[2]=this.chain_[2]+l&0xffffffff,this.chain_[3]=this.chain_[3]+s&0xffffffff,this.chain_[4]=this.chain_[4]+u&0xffffffff}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;for(;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function tS(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let t=i-55296;e0(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tx=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(e){return e&&e._delegate?e._delegate:e}class tI{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new to;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:tN})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=tN){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=tN){return this.instances.has(e)}getOptions(e=tN){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===tN?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=tN){return this.component?this.component.multipleInstances?e:tN:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=[];(k=O||(O={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT";const tL={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},tO=O.INFO,tM={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},tF=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=tM[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tA{constructor(e){this.name=e,this._logLevel=tO,this._logHandler=tF,this._userLogHandler=null,tD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in O))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...e),this._logHandler(this,O.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...e),this._logHandler(this,O.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,O.INFO,...e),this._logHandler(this,O.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,O.WARN,...e),this._logHandler(this,O.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...e),this._logHandler(this,O.ERROR,...e)}}const tz=(e,t)=>t.some(t=>e instanceof t),tU=new WeakMap,tj=new WeakMap,tq=new WeakMap,tW=new WeakMap,tB=new WeakMap;let t$={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tj.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tq.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tH(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tH(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(tH(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&tU.set(t,e)}).catch(()=>{}),tB.set(t,e),t}(n);if(tW.has(n))return tW.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(tV(this),e),tH(tU.get(this))}:function(...e){return tH(r.apply(tV(this),e))}:function(e,...t){let n=r.call(tV(this),e,...t);return tq.set(n,e.sort?e.sort():[e]),tH(n)}:(r instanceof IDBTransaction&&function(e){if(tj.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});tj.set(e,t)}(r),tz(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,t$):r;return i!==n&&(tW.set(n,i),tB.set(i,n)),i}const tV=e=>tB.get(e),tQ=["get","getKey","getAll","getAllKeys","count"],tK=["put","add","delete","clear"],tY=new Map;function tG(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(tY.get(t))return tY.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=tK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tQ.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return tY.set(t,a),a}t$={...f=t$,get:(e,t,n)=>tG(e,t)||f.get(e,t,n),has:(e,t)=>!!tG(e,t)||f.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const tJ="@firebase/app",tZ="0.10.13",t0=new tA("@firebase/app"),t1="[DEFAULT]",t2={[tJ]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},t3=new Map,t4=new Map,t6=new Map;function t5(e,t){try{e.container.addComponent(t)}catch(n){t0.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function t8(e){let t=e.name;if(t6.has(t))return t0.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(t6.set(t,e),t3.values()))t5(n,e);for(let t of t4.values())t5(t,e);return!0}const t9=new tc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tI("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw t9.create("app-deleted",{appName:this._name})}}function ne(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:t1,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw t9.create("bad-app-name",{appName:String(i)});if(n||(n=ta()),!n)throw t9.create("no-options");let a=t3.get(i);if(a){if(tw(n,a.options)&&tw(r,a.config))return a;throw t9.create("duplicate-app",{appName:i})}let o=new tR(i);for(let e of t6.values())o.addComponent(e);let l=new t7(n,r,o);return t3.set(i,l),l}function nt(e,t,n){var r;let i=null!==(r=t2[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),t0.warn(e.join(" "));return}t8(new tI(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nn="firebase-heartbeat-store";let nr=null;function ni(){return nr||(nr=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,1),l=tH(o);return r&&o.addEventListener("upgradeneeded",e=>{r(tH(o.result),e.oldVersion,e.newVersion,tH(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),l.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nn)}catch(e){console.warn(e)}}}).catch(e=>{throw t9.create("idb-open",{originalErrorMessage:e.message})})),nr}async function na(e){try{let t=(await ni()).transaction(nn),n=await t.objectStore(nn).get(nl(e));return await t.done,n}catch(e){if(e instanceof tu)t0.warn(e.message);else{let t=t9.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});t0.warn(t.message)}}}async function no(e,t){try{let n=(await ni()).transaction(nn,"readwrite"),r=n.objectStore(nn);await r.put(t,nl(e)),await n.done}catch(e){if(e instanceof tu)t0.warn(e.message);else{let t=t9.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});t0.warn(t.message)}}}function nl(e){return`${e.name}!${e.options.appId}`}class ns{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nc(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nu();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){t0.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=nu(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nd(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=e8(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return t0.warn(e),""}}}function nu(){return new Date().toISOString().substring(0,10)}class nc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await na(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return no(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return no(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nd(e){return e8(JSON.stringify({version:2,heartbeats:e})).length}t8(new tI("platform-logger",e=>new tX(e),"PRIVATE")),t8(new tI("heartbeat",e=>new ns(e),"PRIVATE")),nt(tJ,tZ,""),nt(tJ,tZ,"esm2017"),nt("fire-js",""),/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nt("firebase","10.14.1","app");const nh="@firebase/database",nf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tf(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:th(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return t_(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nm(t)}}catch(e){}return new ng},nv=n_("localStorage"),ny=n_("sessionStorage"),nb=new tA("@firebase/database"),nw=(h=1,function(){return h++}),nC=function(e){let t=tE(e),n=new tk;n.update(t);let r=n.digest();return e4.encodeByteArray(r)},nk=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=nk.apply(null,r):"object"==typeof r?t+=tf(r):t+=r,t+=" "}return t};let nS=null,nE=!0;const nx=function(e,t){e0(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(nb.logLevel=O.VERBOSE,nS=nb.log.bind(nb),t&&ny.set("logging_enabled",!0)):"function"==typeof e?nS=e:(nS=null,ny.remove("logging_enabled"))},nT=function(...e){if(!0===nE&&(nE=!1,null===nS&&!0===ny.get("logging_enabled")&&nx(!0)),nS){let t=nk.apply(null,e);nS(t)}},nI=function(e){return function(...t){nT(e,...t)}},nN=function(...e){let t="FIREBASE INTERNAL ERROR: "+nk(...e);nb.error(t)},nP=function(...e){let t=`FIREBASE FATAL ERROR: ${nk(...e)}`;throw nb.error(t),Error(t)},nR=function(...e){let t="FIREBASE WARNING: "+nk(...e);nb.warn(t)},nD=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nR("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nL=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},nO=function(e){if(ts()||"complete"===document.readyState)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},nM="[MIN_NAME]",nF="[MAX_NAME]",nA=function(e,t){if(e===t)return 0;{if(e===nM||t===nF)return -1;if(t===nM||e===nF)return 1;let n=nH(e),r=nH(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},nz=function(e,t){return e===t?0:e<t?-1:1},nU=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+tf(t))},nj=function(e){if("object"!=typeof e||null===e)return tf(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=tf(t[r])+":"+nj(e[t[r]]);return n+"}"},nq=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function nW(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}const nB=function(e){let t,n,r,i,a;e0(!nL(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-0x10000000000000)):(n=0,r=Math.round(e/5e-324)));let o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();let l=o.join(""),s="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),s+=e}return s.toLowerCase()},n$=RegExp("^-?(0*)\\d{1,10}$"),nH=function(e){if(n$.test(e)){let t=Number(e);if(t>=-0x80000000&&t<=0x7fffffff)return t}return null},nV=function(e){try{e()}catch(e){setTimeout(()=>{throw nR("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},nQ=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){nR(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(nT("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nR(e)}}class nG{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nG.OWNER="owner";const nX=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nJ="websocket",nZ="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,n,r,i=!1,a="",o=!1,l=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function n1(e,t,n){let r;if(e0("string"==typeof t,"typeof type must == string"),e0("object"==typeof n,"typeof params must == object"),t===nJ)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===nZ)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let i=[];return nW(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.counters_={}}incrementCounter(e,t=1){t_(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=e(t[r],n[r]));return t}(void 0,this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={},n4={};function n6(e){let t=e.toString();return n3[t]||(n3[t]=new n2),n3[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&nV(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="start";class n9{constructor(e,t,n,r,i,a,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nI(e),this.stats_=n6(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),n1(t,nZ,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new n5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),nO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new n7((...e)=>{let[t,n,r,i,a]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===n8)this.id=n,this.password=r;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[n8]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&nX.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n9.forceAllow_=!0}static forceDisallow(){n9.forceDisallow_=!0}static isAvailable(){return!ts()&&(!!n9.forceAllow_||!n9.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=nq(e5(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ts())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=tf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class n7{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,ts())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=nw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=n7.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";</script>');let r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){nT("frame writing exception"),e.stack&&nT(e.stack),nT(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nT("No IE domain setting required")}catch(n){let t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){ts()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{nT("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let re=null;"undefined"!=typeof MozWebSocket?re=MozWebSocket:"undefined"!=typeof WebSocket&&(re=WebSocket);class rt{constructor(e,t,n,r,i,a,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nI(this.connId),this.stats_=n6(t),this.connURL=rt.connectionURL_(t,a,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){let a={};return a.v="5",!ts()&&"undefined"!=typeof location&&location.hostname&&nX.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),n1(e,nJ,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nv.set("previous_websocket_failure",!0);try{let e;if(ts()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${np}/${eq.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n={},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new re(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){rt.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==re&&!rt.forceDisallow_}static previouslyFailed(){return nv.isInMemoryStorage||!0===nv.get("previous_websocket_failure")}markConnectionHealthy(){nv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=th(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(e0(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=nq(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rt.responsesRequiredToBeHealthy=2,rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[n9,rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=rt&&rt.isAvailable(),n=t&&!rt.previouslyFailed();if(e.webSocketOnly&&(t||nR("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[rt];else{let e=this.transports_=[];for(let t of rn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);rn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rn.globalTransportInitialized_=!1;class rr{constructor(e,t,n,r,i,a,o,l,s,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nI("c:"+this.id+":"),this.transportManager_=new rn(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=nQ(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=nU("t",e),n=nU("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=nU("t",e),n=nU("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=nU("t",e);if("d"in e){let n=e.d;if("h"===t){let e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?nN("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nN("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&nR("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),nQ(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nQ(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.allowedEvents_=e,this.listeners_={},e0(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context)){r.splice(e,1);return}}validateEventType_(e){e0(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ra{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||tl()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ro}getInitialEvent(e){return e0("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class rl{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function rs(){return new rl("")}function ru(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function rc(e){return e.pieces_.length-e.pieceNum_}function rd(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new rl(e.pieces_,t)}function rh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rf(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function rp(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new rl(t,0)}function rm(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof rl)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new rl(n,0)}function rg(e){return e.pieceNum_>=e.pieces_.length}function r_(e,t){let n=ru(e),r=ru(t);if(null===n)return t;if(n===r)return r_(rd(e),rd(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function rv(e,t){let n=rf(e,0),r=rf(t,0);for(let e=0;e<n.length&&e<r.length;e++){let t=nA(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function ry(e,t){if(rc(e)!==rc(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rb(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(rc(e)>rc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rw{constructor(e,t){this.errorPrefix_=t,this.parts_=rf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=tx(this.parts_[e]);rC(this)}}function rC(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rk(e))}function rk(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends ra{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new rS}getInitialEvent(e){return e0("visible"===e,"Unknown event type: "+e),[this.visible_]}}class rE extends ri{constructor(e,t,n,r,i,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=rE.nextPersistentConnectionId_++,this.log_=nI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ts())throw Error("Auth override specified in options, but not supported on non Node.js platforms");rS.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ro.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(tf(i)),e0(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new to,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),e0(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),e0(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");let o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{let a=i.d,o=i.s;rE.warnOnListenWarnings_(a,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,a))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&t_(e,"w")){let n=tv(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();nR(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||tg(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=tm(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),e0(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;let o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tf(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):nN("Unrecognized action received from server: "+tf(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){e0(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+rE.nextConnectionId_++,i=this.lastSessionId,a=!1,o=null,l=function(){o?o.close():(a=!0,n())};this.realtime_={close:l,sendRequest:function(e){e0(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)}};let s=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[l,u]=await Promise.all([this.authTokenProvider_.getToken(s),this.appCheckTokenProvider_.getToken(s)]);a?nT("getToken() completed but was canceled"):(nT("getToken() completed. Creating connection."),this.authToken_=l&&l.accessToken,this.appCheckToken_=u&&u.token,o=new rr(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{nR(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),a||(this.repoInfo_.nodeAdmin&&nR(e),l())}}}interrupt(e){nT("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nT("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>nj(e)).join("$"):"default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n;let r=new rl(e).toString();if(this.listens.has(r)){let e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){nT("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){nT("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";ts()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+np.replace(/\./g,"-")]=1,tl()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=ro.getInstance().currentlyOnline();return ty(this.interruptReasons_)&&e}}rE.nextPersistentConnectionId_=0,rE.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rx(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new rx(nM,e),r=new rx(nM,t);return 0!==this.compare(n,r)}minPost(){return rx.MIN}}class rI extends rT{static get __EMPTY_NODE(){return n}static set __EMPTY_NODE(e){n=e}compare(e,t){return nA(e.name,t.name)}isDefinedOn(e){throw e1("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rx.MIN}maxPost(){return new rx(nF,n)}makePost(e,t){return e0("string"==typeof e,"KeyIndex indexValue must always be a string."),new rx(e,n)}toString(){return".key"}}const rN=new rI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else if(0===a){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rR{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rR.RED,this.left=null!=r?r:rD.EMPTY_NODE,this.right=null!=i?i:rD.EMPTY_NODE}copy(e,t,n,r,i){return new rR(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return rD.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return rD.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,rR.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,rR.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")}}rR.RED=!0,rR.BLACK=!1;class rD{constructor(e,t=rD.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new rD(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,rR.BLACK,null,null))}remove(e){return new rD(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rR.BLACK,null,null))}get(e){let t;let n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rP(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rP(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rP(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rP(this.root_,null,this.comparator_,!0,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e,t){return nA(e.name,t.name)}function rO(e,t){return nA(e,t)}rD.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new rR(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rM=function(e){return"number"==typeof e?"number:"+nB(e):"string:"+e},rF=function(e){if(e.isLeafNode()){let t=e.val();e0("string"==typeof t||"number"==typeof t||"object"==typeof t&&t_(t,".sv"),"Priority must be a string or number.")}else e0(e===r||e.isEmpty(),"priority of unexpected type.");e0(e===r||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class rA{constructor(e,t=rA.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,e0(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rF(this.priorityNode_)}static set __childrenNodeConstructor(e){i=e}static get __childrenNodeConstructor(){return i}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rA(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:rA.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rg(e)?this:".priority"===ru(e)?this.priorityNode_:rA.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:rA.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=ru(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(e0(".priority"!==n||1===rc(e),".priority must be the last token in a path"),this.updateImmediateChild(n,rA.__childrenNodeConstructor.EMPTY_NODE.updateChild(rd(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rM(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=nB(this.value_):e+=this.value_,this.lazyHash_=nC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rA.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rA.__childrenNodeConstructor?-1:(e0(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=rA.VALUE_TYPE_ORDER.indexOf(t),i=rA.VALUE_TYPE_ORDER.indexOf(n);return(e0(r>=0,"Unknown leaf type: "+t),e0(i>=0,"Unknown leaf type: "+n),r!==i)?i-r:"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}rA.VALUE_TYPE_ORDER=["object","boolean","number","string"];const rz=new class extends rT{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nA(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rx.MIN}maxPost(){return new rx(nF,new rA("[PRIORITY-POST]",o))}makePost(e,t){return new rx(t,new rA("[PRIORITY-POST]",a(e)))}toString(){return".priority"}},rU=Math.log(2);class rj{constructor(e){this.count=parseInt(Math.log(e+1)/rU,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rq=function(e,t,n,r){e.sort(t);let i=function(t,r){let a;let o=r-t;if(0===o)return null;if(1===o)return a=e[t],new rR(n?n(a):a,a.node,rR.BLACK,null,null);{let l=parseInt(o/2,10)+t,s=i(t,l),u=i(l+1,r);return a=e[l],new rR(n?n(a):a,a.node,rR.BLACK,s,u)}};return new rD(r||t,function(t){let r=null,a=null,o=e.length,l=function(t,r){let a=o-t,l=o;o-=t;let u=i(a+1,l),c=e[a];s(new rR(n?n(c):c,c.node,r,null,u))},s=function(e){r?r.left=e:a=e,r=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?l(r,rR.BLACK):(l(r,rR.BLACK),l(r,rR.RED))}return a}(new rj(e.length)))},rW={};class rB{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return e0(rW&&rz,"ChildrenNode.ts has not been loaded"),l=l||new rB({".priority":rW},{".priority":rz})}get(e){let t=tv(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof rD?t:null}hasIndex(e){return t_(this.indexSet_,e.toString())}addIndex(e,t){let n;e0(e!==rN,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,a=t.getIterator(rx.Wrap),o=a.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=a.getNext();n=i?rq(r,e.getCompare()):rW;let l=e.toString(),s=Object.assign({},this.indexSet_);s[l]=e;let u=Object.assign({},this.indexes_);return u[l]=n,new rB(u,s)}addToIndexes(e,t){return new rB(tb(this.indexes_,(n,r)=>{let i=tv(this.indexSet_,r);if(e0(i,"Missing index implementation for "+r),n===rW){if(!i.isDefinedOn(e.node))return rW;{let n=[],r=t.getIterator(rx.Wrap),a=r.getNext();for(;a;)a.name!==e.name&&n.push(a),a=r.getNext();return n.push(e),rq(n,i.getCompare())}}{let r=t.get(e.name),i=n;return r&&(i=i.remove(new rx(e.name,r))),i.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new rB(tb(this.indexes_,n=>{if(n===rW)return n;{let r=t.get(e.name);return r?n.remove(new rx(e.name,r)):n}}),this.indexSet_)}}class r${constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rF(this.priorityNode_),this.children_.isEmpty()&&e0(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return s||(s=new r$(new rD(rO),null,rB.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||s}updatePriority(e){return this.children_.isEmpty()?this:new r$(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?s:t}}getChild(e){let t=ru(e);return null===t?this:this.getImmediateChild(t).getChild(rd(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(e0(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,r;let i=new rx(e,t);t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));let a=n.isEmpty()?s:this.priorityNode_;return new r$(n,a,r)}}updateChild(e,t){let n=ru(e);if(null===n)return t;{e0(".priority"!==ru(e)||1===rc(e),".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(rd(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,i=!0;if(this.forEachChild(rz,(a,o)=>{t[a]=o.val(e),n++,i&&r$.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):i=!1}),e||!i||!(r<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+rM(this.getPriority().val())+":"),this.forEachChild(rz,(t,n)=>{let r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":nC(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);{let n=r.getPredecessorKey(new rx(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new rx(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new rx(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,rx.Wrap),r=n.peek();for(;null!=r&&0>t.compare(r,e);)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,rx.Wrap),r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rH?-1:0}withIndex(e){if(e===rN||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new r$(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===rN||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(rz),n=e.getIterator(rz),r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}}resolveIndex_(e){return e===rN?null:this.indexMap_.get(e.toString())}}r$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const rH=new class extends r${constructor(){super(new rD(rO),r$.EMPTY_NODE,rB.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return r$.EMPTY_NODE}isEmpty(){return!1}};function rV(e,t=null){if(null===e)return r$.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),e0(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new rA(e,rV(t));if(e instanceof Array){let n=r$.EMPTY_NODE;return nW(e,(t,r)=>{if(t_(e,t)&&"."!==t.substring(0,1)){let e=rV(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(rV(t))}{let n=[],r=!1;if(nW(e,(e,t)=>{if("."!==e.substring(0,1)){let i=rV(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new rx(e,i)))}}),0===n.length)return r$.EMPTY_NODE;let i=rq(n,rL,e=>e.name,rO);if(!r)return new r$(i,rV(t),rB.Default);{let e=rq(n,rz.getCompare());return new r$(i,rV(t),new rB({".priority":e},{".priority":rz}))}}}Object.defineProperties(rx,{MIN:{value:new rx(nM,r$.EMPTY_NODE)},MAX:{value:new rx(nF,rH)}}),rI.__EMPTY_NODE=r$.EMPTY_NODE,rA.__childrenNodeConstructor=r$,r=rH,o=rH,a=rV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ extends rT{constructor(e){super(),this.indexPath_=e,e0(!rg(e)&&".priority"!==ru(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nA(e.name,t.name):i}makePost(e,t){let n=rV(e);return new rx(t,r$.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new rx(nF,r$.EMPTY_NODE.updateChild(this.indexPath_,rH))}toString(){return rf(this.indexPath_,0).join("/")}}const rK=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class extends rT{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?nA(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rx.MIN}maxPost(){return rx.MAX}makePost(e,t){return new rx(t,rV(e))}toString(){return".value"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(e){return{type:"value",snapshotNode:e}}function rG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function rX(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rJ(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.index_=e}updateChild(e,t,n,r,i,a){e0(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(rX(t,o)):e0(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(rG(t,n)):a.trackChildChange(rJ(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(rz,(e,r)=>{t.hasChild(e)||n.trackChildChange(rX(e,r))}),t.isLeafNode()||t.forEachChild(rz,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(rJ(t,r,i))}else n.trackChildChange(rG(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?r$.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.indexedFilter_=new rZ(e.getIndex()),this.index_=e.getIndex(),this.startPost_=r0.getStartPost_(e),this.endPost_=r0.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,r,i,a){return this.matches(new rx(t,n))||(n=r$.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}updateFullNode(e,t,n){t.isLeafNode()&&(t=r$.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(r$.EMPTY_NODE);let i=this;return t.forEachChild(rz,(e,t)=>{i.matches(new rx(e,t))||(r=r.updateImmediateChild(e,r$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new r0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,a){return(this.rangedFilter_.matches(new rx(t,n))||(n=r$.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=r$.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=r$.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break}}}else{let e;r=(r=t.withIndex(this.index_)).updatePriority(r$.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,r$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let a;if(this.reverse_){let e=this.index_.getCompare();a=(t,n)=>e(n,t)}else a=this.index_.getCompare();e0(e.numChildren()===this.limit_,"");let o=new rx(t,n),l=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),s=this.rangedFilter_.matches(o);if(e.hasChild(t)){let u=e.getImmediateChild(t),c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);let d=null==c?1:a(c,o);if(s&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(rJ(t,n,u)),e.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(rX(t,u));let n=e.updateImmediateChild(t,r$.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(rG(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:s&&a(l,o)>=0?(null!=i&&(i.trackChildChange(rX(l.name,l.node)),i.trackChildChange(rG(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(l.name,r$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rz}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return e0(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(e0(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:nM}hasEnd(){return this.endSet_}getIndexEndValue(){return e0(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(e0(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:nF}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return e0(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rz}copy(){let e=new r2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function r3(e){let t;let n={};if(e.isDefault())return n;if(e.index_===rz?t="$priority":e.index_===rK?t="$value":e.index_===rN?t="$key":(e0(e.index_ instanceof rQ,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=tf(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=tf(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+tf(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=tf(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+tf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function r4(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rz&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6 extends ri{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=nI("p:rest:"),this.listens_={}}reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(e0(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let a=r6.getListenId_(e,n),o={};this.listens_[a]=o;let l=r3(e._queryParams);this.restRequest_(i+".json",l,(e,t)=>{let l=t;404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(i,l,!1,n),tv(this.listens_,a)===o&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=r6.getListenId_(e,t);delete this.listens_[n]}get(e){let t=r3(e._queryParams),n=e._path.toString(),r=new to;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+a);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=th(o.responseText)}catch(e){nR("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&nR("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.rootNode_=r$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(){return{value:null,children:new Map}}function r9(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{r9(r,new rl(t.toString()+"/"+e),n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nW(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ie{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new r7(e);let n=1e4+2e4*Math.random();nQ(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;nW(e,(e,r)=>{r>0&&t_(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),nQ(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function it(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ir(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ii(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(S=M||(M={}))[S.OVERWRITE=0]="OVERWRITE",S[S.MERGE=1]="MERGE",S[S.ACK_USER_WRITE=2]="ACK_USER_WRITE",S[S.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=M.ACK_USER_WRITE,this.source=it()}operationForChild(e){if(!rg(this.path))return e0(ru(this.path)===e,"operationForChild called for unrelated child."),new ia(rd(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return e0(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new rl(e));return new ia(rs(),t,this.revert)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.source=e,this.path=t,this.type=M.LISTEN_COMPLETE}operationForChild(e){return rg(this.path)?new io(this.source,rs()):new io(this.source,rd(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=M.OVERWRITE}operationForChild(e){return rg(this.path)?new il(this.source,rs(),this.snap.getImmediateChild(e)):new il(this.source,rd(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=M.MERGE}operationForChild(e){if(!rg(this.path))return e0(ru(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new is(this.source,rd(this.path),this.children);{let t=this.children.subtree(new rl(e));return t.isEmpty()?null:t.value?new il(this.source,rs(),t.value):new is(this.source,rs(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rg(e))return this.isFullyInitialized()&&!this.filtered_;let t=ru(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function id(e,t,n,r,i,a){let o=r.filter(e=>e.type===n);o.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw e1("Should only compare child_ events.");let r=new rx(t.childName,t.snapshotNode),i=new rx(n.childName,n.snapshotNode);return e.index_.compare(r,i)})(e,t,n)),o.forEach(n=>{let r=("value"===n.type||"child_removed"===n.type||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e,t){return{eventCache:e,serverCache:t}}function ip(e,t,n,r){return ih(new iu(t,n,r),e.serverCache)}function im(e,t,n,r){return ih(e.eventCache,new iu(t,n,r))}function ig(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function i_(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}const iv=()=>(u||(u=new rD(nz)),u);class iy{constructor(e,t=iv()){this.value=e,this.children=t}static fromObject(e){let t=new iy(null);return nW(e,(e,n)=>{t=t.set(new rl(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:rs(),value:this.value};if(rg(e))return null;{let n=ru(e),r=this.children.get(n);if(null===r)return null;{let i=r.findRootMostMatchingPathAndValue(rd(e),t);return null!=i?{path:rm(new rl(n),i.path),value:i.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rg(e))return this;{let t=ru(e),n=this.children.get(t);return null!==n?n.subtree(rd(e)):new iy(null)}}set(e,t){if(rg(e))return new iy(t,this.children);{let n=ru(e),r=(this.children.get(n)||new iy(null)).set(rd(e),t),i=this.children.insert(n,r);return new iy(this.value,i)}}remove(e){if(rg(e))return this.children.isEmpty()?new iy(null):new iy(null,this.children);{let t=ru(e),n=this.children.get(t);if(!n)return this;{let r;let i=n.remove(rd(e));return(r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty())?new iy(null):new iy(this.value,r)}}}get(e){if(rg(e))return this.value;{let t=ru(e),n=this.children.get(t);return n?n.get(rd(e)):null}}setTree(e,t){if(rg(e))return t;{let n;let r=ru(e),i=(this.children.get(r)||new iy(null)).setTree(rd(e),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new iy(this.value,n)}}fold(e){return this.fold_(rs(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(rm(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,rs(),t)}findOnPath_(e,t,n){let r=!!this.value&&n(t,this.value);if(r)return r;if(rg(e))return null;{let r=ru(e),i=this.children.get(r);return i?i.findOnPath_(rd(e),rm(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,rs(),t)}foreachOnPath_(e,t,n){if(rg(e))return this;{this.value&&n(t,this.value);let r=ru(e),i=this.children.get(r);return i?i.foreachOnPath_(rd(e),rm(t,r),n):new iy(null)}}foreach(e){this.foreach_(rs(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(rm(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.writeTree_=e}static empty(){return new ib(new iy(null))}}function iw(e,t,n){if(rg(t))return new ib(new iy(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){let i=r.path,a=r.value,o=r_(i,t);return a=a.updateChild(o,n),new ib(e.writeTree_.set(i,a))}{let r=new iy(n);return new ib(e.writeTree_.setTree(t,r))}}}function iC(e,t,n){let r=e;return nW(n,(e,n)=>{r=iw(r,rm(t,e),n)}),r}function ik(e,t){return rg(t)?ib.empty():new ib(e.writeTree_.setTree(t,new iy(null)))}function iS(e,t){return null!=iE(e,t)}function iE(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(r_(n.path,t)):null}function ix(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rz,(e,n)=>{t.push(new rx(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new rx(e,n.value))}),t}function iT(e,t){if(rg(t))return e;{let n=iE(e,t);return new ib(null!=n?new iy(n):e.writeTree_.subtree(t))}}function iI(e){return e.writeTree_.isEmpty()}function iN(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,a)=>{".priority"===n?(e0(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(rm(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(rm(t,".priority"),i)),r}}(rs(),e.writeTree_,t)}function iP(e){return e.visible}function iR(e,t,n){let r=ib.empty();for(let i=0;i<e.length;++i){let a=e[i];if(t(a)){let e;let t=a.path;if(a.snap)rb(n,t)?r=iw(r,e=r_(n,t),a.snap):rb(t,n)&&(e=r_(t,n),r=iw(r,rs(),a.snap.getChild(e)));else if(a.children){if(rb(n,t))r=iC(r,e=r_(n,t),a.children);else if(rb(t,n)){if(rg(e=r_(t,n)))r=iC(r,rs(),a.children);else{let t=tv(a.children,ru(e));if(t){let n=t.getChild(rd(e));r=iw(r,rs(),n)}}}}else throw e1("WriteRecord should have .snap or .children")}}return r}function iD(e,t,n,r,i){if(r||i){let a=iT(e.visibleWrites,t);return!i&&iI(a)?n:i||null!=n||iS(a,rs())?iN(iR(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(rb(e.path,t)||rb(t,e.path))},t),n||r$.EMPTY_NODE):null}{let r=iE(e.visibleWrites,t);if(null!=r)return r;{let r=iT(e.visibleWrites,t);return iI(r)?n:null!=n||iS(r,rs())?iN(r,n||r$.EMPTY_NODE):null}}}function iL(e,t,n,r){return iD(e.writeTree,e.treePath,t,n,r)}function iO(e,t){return function(e,t,n){let r=r$.EMPTY_NODE,i=iE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rz,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(!n)return ix(iT(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r;{let i=iT(e.visibleWrites,t);return n.forEachChild(rz,(e,t)=>{let n=iN(iT(i,new rl(e)),t);r=r.updateImmediateChild(e,n)}),ix(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}(e.writeTree,e.treePath,t)}function iM(e,t,n,r){return function(e,t,n,r,i){e0(r||i,"Either existingEventSnap or existingServerSnap must exist");let a=rm(t,n);if(iS(e.visibleWrites,a))return null;{let t=iT(e.visibleWrites,a);return iI(t)?i.getChild(n):iN(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function iF(e,t){var n,r;return n=e.writeTree,r=rm(e.treePath,t),iE(n.visibleWrites,r)}function iA(e,t,n){return function(e,t,n,r){let i=rm(t,n),a=iE(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?iN(iT(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function iz(e,t){return iU(rm(e.treePath,t),e.writeTree)}function iU(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;e0("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),e0(".priority"!==n,"Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,rJ(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,rX(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rG(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,rJ(n,e.snapshotNode,r.oldSnap));else throw e1("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const iq=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class iW{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new iu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iA(this.writes_,e,t)}}getChildAfterChild(e,t,n){var r;let i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:i_(this.viewCache_),a=function(e,t,n,r,i,a,o){let l;let s=iT(e.visibleWrites,t),u=iE(s,rs());if(null!=u)l=u;else{if(null==n)return[];l=iN(s,n)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];{let e=[],t=o.getCompare(),n=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o),i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}((r=this.writes_).writeTree,r.treePath,i,t,0,n,e);return 0===a.length?null:a[0]}}function iB(e,t,n,r,i,a){let o=t.eventCache;if(null!=iF(r,n))return t;{let l,s;if(rg(n)){if(e0(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=i_(t),i=iO(r,n instanceof r$?n:r$.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,a)}else{let n=iL(r,i_(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}}else{let u=ru(n);if(".priority"===u){e0(1===rc(n),"Can't have a priority with additional path components");let i=o.getNode(),a=iM(r,n,i,s=t.serverCache.getNode());l=null!=a?e.filter.updatePriority(i,a):o.getNode()}else{let c;let d=rd(n);if(o.isCompleteForChild(u)){s=t.serverCache.getNode();let e=iM(r,n,o.getNode(),s);c=null!=e?o.getNode().getImmediateChild(u).updateChild(d,e):o.getNode().getImmediateChild(u)}else c=iA(r,u,t.serverCache);l=null!=c?e.filter.updateChild(o.getNode(),u,c,d,i,a):o.getNode()}}return ip(t,l,o.isFullyInitialized()||rg(n),e.filter.filtersNodes())}}function i$(e,t,n,r,i,a,o,l){let s;let u=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(rg(n))s=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){let e=u.getNode().updateChild(n,r);s=c.updateFullNode(u.getNode(),e,null)}else{let e=ru(n);if(!u.isCompleteForPath(n)&&rc(n)>1)return t;let i=rd(n),a=u.getNode().getImmediateChild(e).updateChild(i,r);s=".priority"===e?c.updatePriority(u.getNode(),a):c.updateChild(u.getNode(),e,a,i,iq,null)}let d=im(t,s,u.isFullyInitialized()||rg(n),c.filtersNodes()),h=new iW(i,d,a);return iB(e,d,n,i,h,l)}function iH(e,t,n,r,i,a,o){let l,s;let u=t.eventCache,c=new iW(i,t,a);if(rg(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=ip(t,s,!0,e.filter.filtersNodes());else{let i=ru(n);if(".priority"===i)s=e.filter.updatePriority(t.eventCache.getNode(),r),l=ip(t,s,u.isFullyInitialized(),u.isFiltered());else{let a;let s=rd(n),d=u.getNode().getImmediateChild(i);if(rg(s))a=r;else{let e=c.getCompleteChild(i);a=null!=e?".priority"===rh(s)&&e.getChild(rp(s)).isEmpty()?e:e.updateChild(s,r):r$.EMPTY_NODE}l=d.equals(a)?t:ip(t,e.filter.updateChild(u.getNode(),i,a,s,c,o),u.isFullyInitialized(),e.filter.filtersNodes())}}return l}function iV(e,t){return e.eventCache.isCompleteForChild(t)}function iQ(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function iK(e,t,n,r,i,a,o,l){let s;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t;s=rg(n)?r:new iy(null).setTree(n,r);let c=t.serverCache.getNode();return s.children.inorderTraversal((n,r)=>{if(c.hasChild(n)){let s=iQ(e,t.serverCache.getNode().getImmediateChild(n),r);u=i$(e,u,new rl(n),s,i,a,o,l)}}),s.children.inorderTraversal((n,r)=>{let s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){let s=iQ(e,t.serverCache.getNode().getImmediateChild(n),r);u=i$(e,u,new rl(n),s,i,a,o,l)}}),u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new rZ(n.getIndex()),i=n.loadsAllData()?new rZ(n.getIndex()):n.hasLimit()?new r1(n):new r0(n);this.processor_={filter:i};let a=t.serverCache,o=t.eventCache,l=r.updateFullNode(r$.EMPTY_NODE,a.getNode(),null),s=i.updateFullNode(r$.EMPTY_NODE,o.getNode(),null),u=new iu(l,a.isFullyInitialized(),r.filtersNodes()),c=new iu(s,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=ih(c,u),this.eventGenerator_=new ic(this.query_)}get query(){return this.query_}}function iG(e){return 0===e.eventRegistrations_.length}function iX(e,t,n){let r=[];if(n){e0(null==t,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function iJ(e,t,n,r){var i,a;t.type===M.MERGE&&null!==t.source.queryId&&(e0(i_(e.viewCache_),"We should always have a full cache before handling merges"),e0(ig(e.viewCache_),"Missing event cache, even though we have a server cache"));let o=e.viewCache_,l=function(e,t,n,r,i){let a,o;let l=new ij;if(n.type===M.OVERWRITE)n.source.fromUser?a=iH(e,t,n.path,n.snap,r,i,l):(e0(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered()&&!rg(n.path),a=i$(e,t,n.path,n.snap,r,i,o,l));else if(n.type===M.MERGE){var s,u;let c;n.source.fromUser?(s=n.path,u=n.children,c=t,u.foreach((n,a)=>{let o=rm(s,n);iV(t,ru(o))&&(c=iH(e,c,o,a,r,i,l))}),u.foreach((n,a)=>{let o=rm(s,n);iV(t,ru(o))||(c=iH(e,c,o,a,r,i,l))}),a=c):(e0(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered(),a=iK(e,t,n.path,n.children,r,i,o,l))}else if(n.type===M.ACK_USER_WRITE)a=n.revert?function(e,t,n,r,i,a){let o;if(null!=iF(r,n))return t;{let l;let s=new iW(r,t,i),u=t.eventCache.getNode();if(rg(n)||".priority"===ru(n)){let n;if(t.serverCache.isFullyInitialized())n=iL(r,i_(t));else{let e=t.serverCache.getNode();e0(e instanceof r$,"serverChildren would be complete if leaf node"),n=iO(r,e)}l=e.filter.updateFullNode(u,n,a)}else{let i=ru(n),c=iA(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),(l=null!=c?e.filter.updateChild(u,i,c,rd(n),s,a):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,r$.EMPTY_NODE,rd(n),s,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=iL(r,i_(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,o,a))}return o=t.serverCache.isFullyInitialized()||null!=iF(r,rs()),ip(t,l,o,e.filter.filtersNodes())}}(e,t,n.path,r,i,l):function(e,t,n,r,i,a,o){if(null!=iF(i,n))return t;let l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(rg(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return i$(e,t,n,s.getNode().getChild(n),i,a,l,o);if(!rg(n))return t;{let r=new iy(null);return s.getNode().forEachChild(rN,(e,t)=>{r=r.set(new rl(e),t)}),iK(e,t,n,r,i,a,l,o)}}{let u=new iy(null);return r.foreach((e,t)=>{let r=rm(n,e);s.isCompleteForPath(r)&&(u=u.set(e,s.getNode().getChild(r)))}),iK(e,t,n,u,i,a,l,o)}}(e,t,n.path,n.affectedTree,r,i,l);else if(n.type===M.LISTEN_COMPLETE)a=function(e,t,n,r,i){let a=t.serverCache;return iB(e,im(t,a.getNode(),a.isFullyInitialized()||rg(n),a.isFiltered()),n,r,iq,i)}(e,t,n.path,r,l);else throw e1("Unknown operation type: "+n.type);let c=l.getChanges();return function(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ig(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(a))&&r.getNode().getPriority().equals(a.getPriority())||n.push(rY(ig(t)))}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,o,t,n,r);return i=e.processor_,e0((a=l.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),e0(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),e0(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,iZ(e,l.changes,l.viewCache.eventCache.getNode(),null)}function iZ(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){let i=[],a=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var n;a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}}),id(e,i,"child_removed",t,r,n),id(e,i,"child_added",t,r,n),id(e,i,"child_moved",a,r,n),id(e,i,"child_changed",t,r,n),id(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}class i0{constructor(){this.views=new Map}}function i1(e,t,n,r){let i=t.source.queryId;if(null!==i){let a=e.views.get(i);return e0(null!=a,"SyncTree gave us an op for an invalid query."),iJ(a,t,n,r)}{let i=[];for(let a of e.views.values())i=i.concat(iJ(a,t,n,r));return i}}function i2(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function i3(e,t){let n=null;for(let r of e.views.values())n=n||function(e,t){let n=i_(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rg(t)&&!n.getImmediateChild(ru(t)).isEmpty())?n.getChild(t):null}(r,t);return n}function i4(e,t){if(t._queryParams.loadsAllData())return i5(e);{let n=t._queryIdentifier;return e.views.get(n)}}function i6(e){return null!=i5(e)}function i5(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let i8=1;class i9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new iy(null),this.pendingWriteTree_={visibleWrites:ib.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function i7(e,t,n=!1){let r=function(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){let n=e.allWrites.findIndex(e=>e.writeId===t);e0(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,o=e.allWrites.length-1;for(;i&&o>=0;){let t=e.allWrites[o];t.visible&&(o>=n&&function(e,t){if(e.snap)return rb(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&rb(rm(e.path,n),t))return!0;return!1}(t,r.path)?i=!1:rb(r.path,t.path)&&(a=!0)),o--}return!!i&&(a?(e.visibleWrites=iR(e.allWrites,iP,rs()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):r.snap?e.visibleWrites=ik(e.visibleWrites,r.path):nW(r.children,t=>{e.visibleWrites=ik(e.visibleWrites,rm(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new iy(null);return null!=r.snap?t=t.set(rs(),!0):nW(r.children,e=>{t=t.set(new rl(e),!0)}),ai(e,new ia(r.path,t,n))}}function ae(e,t,n){return ai(e,new il(ir(),t,n))}function at(e,t,n,r,i=!1){let a=t._path,o=e.syncPointTree_.get(a),l=[];if(o&&("default"===t._queryIdentifier||null!=i4(o,t))){let s=function(e,t,n,r){let i=t._queryIdentifier,a=[],o=[],l=i6(e);if("default"===i)for(let[t,i]of e.views.entries())o=o.concat(iX(i,n,r)),iG(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||a.push(i.query));else{let t=e.views.get(i);t&&(o=o.concat(iX(t,n,r)),iG(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||a.push(t.query)))}return l&&!i6(e)&&a.push(new(e0(c,"Reference.ts has not been loaded"),c)(t._repo,t._path)),{removed:a,events:o}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));let u=s.removed;if(l=s.events,!i){let n=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(a,(e,t)=>i6(t));if(n&&!i){let t=e.syncPointTree_.subtree(a);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&i6(t))return[i5(t)];{let e=[];return t&&(e=i2(t)),nW(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let r=n[t],i=r.query,a=aa(e,r);e.listenProvider_.startListening(ad(i),ao(e,i),a.hashFn,a.onComplete)}}}i||!(u.length>0)||r||(n?e.listenProvider_.stopListening(ad(t),null):u.forEach(t=>{let n=e.queryToTagMap.get(al(t));e.listenProvider_.stopListening(ad(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let t=al(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return l}function an(e,t,n,r=!1){let i;let a=t._path,o=null,l=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{let n=r_(e,a);o=o||i3(t,n),l=l||i6(t)});let s=e.syncPointTree_.get(a);s?(l=l||i6(s),o=o||i3(s,rs())):(s=new i0,e.syncPointTree_=e.syncPointTree_.set(a,s)),null!=o?i=!0:(i=!1,o=r$.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((e,t)=>{let n=i3(t,rs());n&&(o=o.updateImmediateChild(e,n))}));let u=null!=i4(s,t);if(!u&&!t._queryParams.loadsAllData()){let n=al(t);e0(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let r=i8++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=function(e,t,n,r,i,a){let o=function(e,t,n,r,i){let a=t._queryIdentifier,o=e.views.get(a);if(!o){let e=iL(n,i?r:null),a=!1;return e?a=!0:(e=r instanceof r$?iO(n,r):r$.EMPTY_NODE,a=!1),new iY(t,ih(new iu(e,a,!1),new iu(r,i,!1)))}return o}(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),!function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rz,(e,t)=>{r.push(rG(e,t))}),n.isFullyInitialized()&&r.push(rY(n.getNode())),iZ(e,r,n.getNode(),t)}(o,n)}(s,t,n,iU(a,e.pendingWriteTree_),o,i);if(!u&&!l&&!r){let n=i4(s,t);c=c.concat(function(e,t,n){let r=t._path,i=ao(e,t),a=aa(e,n),o=e.listenProvider_.startListening(ad(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)e0(!i6(l.value),"If we're adding a query, it shouldn't be shadowed");else{let t=l.fold((e,t,n)=>{if(!rg(e)&&t&&i6(t))return[i5(t).query];{let e=[];return t&&(e=e.concat(i2(t).map(e=>e.query))),nW(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(ad(r),ao(e,r))}}return o}(e,t,n))}return c}function ar(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=i3(n,r_(e,t));if(r)return r});return iD(r,t,i,n,!0)}function ai(e,t){var n;return function e(t,n,r,i){if(rg(t.path))return function e(t,n,r,i){let a=n.get(rs());null==r&&null!=a&&(r=i3(a,rs()));let o=[];return n.children.inorderTraversal((n,a)=>{let l=r?r.getImmediateChild(n):null,s=iz(i,n),u=t.operationForChild(n);u&&(o=o.concat(e(u,a,l,s)))}),a&&(o=o.concat(i1(a,t,i,r))),o}(t,n,r,i);{let a=n.get(rs());null==r&&null!=a&&(r=i3(a,rs()));let o=[],l=ru(t.path),s=t.operationForChild(l),u=n.children.get(l);if(u&&s){let t=r?r.getImmediateChild(l):null,n=iz(i,l);o=o.concat(e(s,u,t,n))}return a&&(o=o.concat(i1(a,t,i,r))),o}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,iU(rs(),n)))}function aa(e,t){let n=t.query,r=ao(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||r$.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t){var i;return r?function(e,t,n){let r=as(e,n);if(!r)return[];{let n=au(r),i=n.path,a=n.queryId,o=r_(i,t);return ac(e,i,new io(ii(a),o))}}(e,n._path,r):(i=n._path,ai(e,new io(ir(),i)))}{let r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");let r=Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return at(e,n,null,r)}}}}function ao(e,t){let n=al(t);return e.queryToTagMap.get(n)}function al(e){return e._path.toString()+"$"+e._queryIdentifier}function as(e,t){return e.tagToQueryMap.get(t)}function au(e){let t=e.indexOf("$");return e0(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new rl(e.substr(0,t))}}function ac(e,t,n){let r=e.syncPointTree_.get(t);return e0(r,"Missing sync point for query tag that we're tracking"),i1(r,n,iU(t,e.pendingWriteTree_),null)}function ad(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(e0(d,"Reference.ts has not been loaded"),d)(e._repo,e._path):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.node_=e}getImmediateChild(e){return new ah(this.node_.getImmediateChild(e))}node(){return this.node_}}class af{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=rm(this.path_,e);return new af(this.syncTree_,t)}node(){return ar(this.syncTree_,this.path_)}}const ap=function(e,t,n){return e&&"object"==typeof e?(e0(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?am(e[".sv"],t,n):"object"==typeof e[".sv"]?ag(e[".sv"],t):void e0(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},am=function(e,t,n){if("timestamp"===e)return n.timestamp;e0(!1,"Unexpected server value: "+e)},ag=function(e,t,n){e.hasOwnProperty("increment")||e0(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;"number"!=typeof r&&e0(!1,"Unexpected increment value: "+r);let i=t.node();if(e0(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let a=i.getValue();return"number"!=typeof a?r:a+r},a_=function(e,t,n,r){return av(t,new af(n,e),r)};function av(e,t,n){let r;let i=ap(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new rA(i))),e.forEachChild(rz,(e,i)=>{let a=av(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r;{let r=ap(e.getValue(),t,n);return r!==e.getValue()||i!==e.getPriority().val()?new rA(r,rV(i)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function ab(e,t){let n=t instanceof rl?t:new rl(t),r=e,i=ru(n);for(;null!==i;){let e=tv(r.node.children,i)||{children:{},childCount:0};r=new ay(i,r,e),i=ru(n=rd(n))}return r}function aw(e){return e.node.value}function aC(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){let i=void 0===aw(r)&&!ak(r),a=t_(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,e(t)):i||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function ak(e){return e.node.childCount>0}function aS(e,t){nW(e.node.children,(n,r)=>{t(new ay(n,e,r))})}function aE(e){return new rl(null===e.parent?e.name:aE(e.parent)+"/"+e.name)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=/[\[\].#$\/\u0000-\u001F\u007F]/,aT=/[\[\].#$\u0000-\u001F\u007F]/,aI=function(e){return"string"==typeof e&&0!==e.length&&!ax.test(e)},aN=function(e){return"string"==typeof e&&0!==e.length&&!aT.test(e)},aP=function(e,t,n){let r=n instanceof rl?new rw(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+rk(r));if("function"==typeof t)throw Error(e+"contains a function "+rk(r)+" with contents = "+t.toString());if(nL(t))throw Error(e+"contains "+t.toString()+" "+rk(r));if("string"==typeof t&&t.length>0xa00000/3&&tx(t)>0xa00000)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+rk(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(nW(t,(t,a)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!aI(t)))throw Error(e+" contains an invalid key ("+t+") "+rk(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=tx(t),rC(r),aP(e,a,r),function(e){let t=e.parts_.pop();e.byteLength_-=tx(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw Error(e+' contains ".value" child '+rk(r)+" in addition to actual children.")}},aR=function(e,t){let n,r;for(n=0;n<t.length;n++){let i=rf(r=t[n]);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!aI(i[t]))throw Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(rv);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&rb(i,r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},aD=function(e,t,n,r){if(r&&void 0===t)return;let i=tS(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");let a=[];nW(t,(e,t)=>{let r=new rl(e);if(aP(i,t,rm(n,r)),".priority"===rh(r)&&!(null===t||"string"==typeof t||"number"==typeof t&&!nL(t)||t&&"object"==typeof t&&t_(t,".sv")))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),aR(i,a)},aL=function(e,t,n,r){if((!r||void 0!==n)&&!aN(n))throw Error(tS(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aO=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aL(e,t,n,r)},aM=function(e,t){var n;let r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!aI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!aN(n)))throw Error(tS(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aA(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],a=i.getPath();null===n||ry(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function az(e,t,n){aA(e,n),aj(e,e=>ry(e,t))}function aU(e,t,n){aA(e,n),aj(e,e=>rb(e,t)||rb(t,e))}function aj(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let r=n.getEventRunner();nS&&nT("event: "+n.toString()),nV(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class aq{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=r8(),this.transactionQueueTree_=new ay,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aW(e){var t;return(t=t={timestamp:function(e){let t=e.infoData_.getNode(new rl(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}(e)}).timestamp=t.timestamp||new Date().getTime(),t}function aB(e,t,n,r,i){e.dataUpdateCount++;let a=new rl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i){if(r){let t=tb(n,e=>rV(e));o=function(e,t,n,r){let i=as(e,r);if(!i)return[];{let r=au(i),a=r.path,o=r.queryId,l=r_(a,t),s=iy.fromObject(n);return ac(e,a,new is(ii(o),l,s))}}(e.serverSyncTree_,a,t,i)}else{let t=rV(n);o=function(e,t,n,r){let i=as(e,r);if(null==i)return[];{let r=au(i),a=r.path,o=r.queryId,l=r_(a,t);return ac(e,a,new il(ii(o),l,n))}}(e.serverSyncTree_,a,t,i)}}else if(r){let t=tb(n,e=>rV(e));o=function(e,t,n){let r=iy.fromObject(n);return ai(e,new is(ir(),t,r))}(e.serverSyncTree_,a,t)}else{let t=rV(n);o=ae(e.serverSyncTree_,a,t)}let l=a;o.length>0&&(l=aX(e,a)),aU(e.eventQueue_,l,o)}function a$(e,t){aH(e,"connected",t),!1===t&&function(e){aK(e,"onDisconnectEvents");let t=aW(e),n=r8();r9(e.onDisconnect_,rs(),(r,i)=>{let a=a_(r,i,e.serverSyncTree_,t);!function e(t,n,r){if(rg(n))t.value=r,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,r);else{let i=ru(n);t.children.has(i)||t.children.set(i,r8()),e(t.children.get(i),n=rd(n),r)}}(n,r,a)});let r=[];r9(n,rs(),(t,n)=>{r=r.concat(ae(e.serverSyncTree_,t,n));let i=a1(e,t);aX(e,i)}),e.onDisconnect_=r8(),aU(e.eventQueue_,rs(),r)}(e)}function aH(e,t,n){let r=new rl("/.info/"+t),i=rV(n);e.infoData_.updateSnapshot(r,i);let a=ae(e.infoSyncTree_,r,i);aU(e.eventQueue_,r,a)}function aV(e){return e.nextWriteId_++}function aQ(e,t,n){let r;r=".info"===ru(t._path)?at(e.infoSyncTree_,t,n):at(e.serverSyncTree_,t,n),az(e.eventQueue_,t._path,r)}function aK(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),nT(n,...t)}function aY(e,t,n,r){t&&nV(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);let a=Error(i);a.code=e,t(a)}})}function aG(e,t,n){return ar(e.serverSyncTree_,t,n)||r$.EMPTY_NODE}function aX(e,t){let n=aJ(e,t),r=aE(n),i=aZ(e,n);return function(e,t,n){if(0===t.length)return;let r=[],i=[],a=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){let l=t[o],s=r_(n,l.path),u=!1,c;if(e0(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,c=l.abortReason,i=i.concat(i7(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status){if(l.retryCount>=25)u=!0,c="maxretry",i=i.concat(i7(e.serverSyncTree_,l.currentWriteId,!0));else{let n=aG(e,l.path,a);l.currentInputSnapshot=n;let r=t[o].update(n.val());if(void 0!==r){aP("transaction failed: Data returned ",r,l.path);let t=rV(r);"object"==typeof r&&null!=r&&t_(r,".priority")||(t=t.updatePriority(n.getPriority()));let o=l.currentWriteId,s=aW(e),u=av(t,new ah(n),s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=aV(e),a.splice(a.indexOf(o),1),i=(i=i.concat(function(e,t,n,r,i){var a,o;return(a=e.pendingWriteTree_,o=i,e0(r>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),a.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(a.visibleWrites=iw(a.visibleWrites,t,n)),a.lastWriteId=r,i)?ai(e,new il(it(),t,n)):[]}(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally))).concat(i7(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(i7(e.serverSyncTree_,l.currentWriteId,!0))}}aU(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&("nodata"===c?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(Error(c),!1,null))))}a0(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)nV(r[e]);(function e(t,n=t.transactionQueueTree_){if(n||a0(t,n),aw(n)){let r=aZ(t,n);e0(r.length>0,"Sending zero length transaction queue"),r.every(e=>0===e.status)&&function(t,n,r){let i=aG(t,n,r.map(e=>e.currentWriteId)),a=i,o=i.hash();for(let e=0;e<r.length;e++){let t=r[e];e0(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let i=r_(n,t.path);a=a.updateChild(i,t.currentOutputSnapshotRaw)}let l=a.val(!0);t.server_.put(n.toString(),l,i=>{aK(t,"transaction put response",{path:n.toString(),status:i});let a=[];if("ok"===i){let i=[];for(let e=0;e<r.length;e++)r[e].status=2,a=a.concat(i7(t.serverSyncTree_,r[e].currentWriteId)),r[e].onComplete&&i.push(()=>r[e].onComplete(null,!0,r[e].currentOutputSnapshotResolved)),r[e].unwatcher();a0(t,ab(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),aU(t.eventQueue_,n,a);for(let e=0;e<i.length;e++)nV(i[e])}else{if("datastale"===i)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{nR("transaction at "+n.toString()+" failed: "+i);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=i}aX(t,n)}},o)}(t,aE(n),r)}else ak(n)&&aS(n,n=>{e(t,n)})})(e,e.transactionQueueTree_)}(e,i,r),r}function aJ(e,t){let n;let r=e.transactionQueueTree_;for(n=ru(t);null!==n&&void 0===aw(r);)r=ab(r,n),n=ru(t=rd(t));return r}function aZ(e,t){let n=[];return function e(t,n,r){let i=aw(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);aS(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function a0(e,t){let n=aw(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,aC(t,n.length>0?n:void 0)}aS(t,t=>{a0(e,t)})}function a1(e,t){let n=aE(aJ(e,t)),r=ab(e.transactionQueueTree_,t);return!function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{a2(e,t)}),a2(e,r),!function e(t,n,r,i){r&&!i&&n(t),aS(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{a2(e,t)}),n}function a2(e,t){let n=aw(t);if(n){let r=[],i=[],a=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(e0(a===t-1,"All SENT items should be at beginning of queue."),a=t,n[t].status=3,n[t].abortReason="set"):(e0(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(i7(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===a?aC(t,void 0):n.length=a+1,aU(e.eventQueue_,aE(t),i);for(let e=0;e<r.length;e++)nV(r[e])}}const a3=function(e,t){let n=a4(e),r=n.namespace;"firebase.com"===n.domain&&nP(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nP("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nD();let i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new n0(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new rl(n.pathString)}},a4=function(e){let t="",n="",r="",i="",a="",o=!0,l="https",s=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));let h=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nR(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));(u=t.indexOf(":"))>=0?(o="https"===l||"wss"===l,s=parseInt(t.substring(u+1),10)):u=t.length;let f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{let e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tf(this.snapshot.exportVal())}}class a5{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return e0(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return rg(this._path)?null:rh(this._path)}get ref(){return new a7(this._repo,this._path)}get _queryIdentifier(){let e=nj(r4(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return r4(this._queryParams)}isEqual(e){if(!((e=tT(e))instanceof a9))return!1;let t=this._repo===e._repo,n=ry(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class a7 extends a9{constructor(e,t){super(e,t,new r2,!1)}get parent(){let e=rp(this._path);return null===e?null:new a7(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class oe{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new rl(e),n=on(this.ref,e);return new oe(this._node.getChild(t),n,rz)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new oe(n,on(this.ref,t),rz)))}hasChild(e){let t=new rl(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ot(e,t){return(e=tT(e))._checkNotDeleted("ref"),void 0!==t?on(e._root,t):e._root}function on(e,t){return null===ru((e=tT(e))._path)?aO("child","path",t,!1):aL("child","path",t,!1),new a7(e._repo,rm(e._path,t))}function or(e,t){aD("update",t,e._path,!1);let n=new to;return!function(e,t,n,r){aK(e,"update",{path:t.toString(),value:n});let i=!0,a=aW(e),o={};if(nW(n,(n,r)=>{i=!1,o[n]=a_(rm(t,n),rV(r),e.serverSyncTree_,a)}),i)nT("update() called with empty data.  Don't do anything."),aY(e,r,"ok",void 0);else{let i=aV(e),a=function(e,t,n,r){var i;e0(r>(i=e.pendingWriteTree_).lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:n,writeId:r,visible:!0}),i.visibleWrites=iC(i.visibleWrites,t,n),i.lastWriteId=r;let a=iy.fromObject(n);return ai(e,new is(it(),t,a))}(e.serverSyncTree_,t,o,i);aA(e.eventQueue_,a),e.server_.merge(t.toString(),n,(n,a)=>{let o="ok"===n;o||nR("update at "+t+" failed: "+n);let l=i7(e.serverSyncTree_,i,!o),s=l.length>0?aX(e,t):t;aU(e.eventQueue_,s,l),aY(e,r,n,a)}),nW(n,n=>{let r=a1(e,rm(t,n));aX(e,r)}),aU(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class oi{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new a6("value",this,new oe(e.snapshotNode,new a7(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a5(this,e,t):null}matches(e){return e instanceof oi&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class oa{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a5(this,e,t):null}createEvent(e,t){e0(null!=e.childName,"Child events should have a childName.");let n=on(new a7(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new a6(e.type,this,new oe(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof oa&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}e0(!c,"__referenceConstructor has already been defined"),c=a7,e0(!d,"__referenceConstructor has already been defined"),d=a7;const oo={};class ol{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=n6(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new r6(e.repoInfo_,(t,n,r,i)=>{aB(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>a$(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{tf(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new rE(e.repoInfo_,t,(t,n,r,i)=>{aB(e,t,n,r,i)},t=>{a$(e,t)},t=>{nW(t,(t,n)=>{aH(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let n=e.toString();return n4[n]||(n4[n]=t()),n4[n]}(e.repoInfo_,()=>new ie(e.stats_,e.server_)),e.infoData_=new r5,e.infoSyncTree_=new i9({startListening:(t,n,r,i)=>{let a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=ae(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),a},stopListening:()=>{}}),aH(e,"connected",!1),e.serverSyncTree_=new i9({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let a=i(n,r);aU(e.eventQueue_,t._path,a)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new a7(this._repo,rs())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){let n=oo[t];n&&n[e.key]===e||nP(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&nP("Cannot call "+e+" on a deleted database.")}}rE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},rE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},np="10.14.1",t8(new tI("database",(e,{instanceIdentifier:t})=>(function(e,t,n,r,i){var a,o;let l,s,u,c,d=r||e.options.databaseURL;void 0===d&&(e.options.projectId||nP("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nT("Using default host for project ",e.options.projectId),d=`${e.options.projectId}-default-rtdb.firebaseio.com`);let h=a3(d,void 0),f=h.repoInfo;void 0!==eq&&eq.env&&(u=eq.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,f=(h=a3(d=`http://${u}?ns=${f.namespace}`,void 0)).repoInfo):c=!h.repoInfo.secure;let p=new nY(e.name,e.options,t);return aM("Invalid Firebase Database URL",h),rg(h.path)||nP("Database URL must point to the root of a Firebase Database (not including a child path)."),new ol((a=f,o=new nK(e.name,n),(l=oo[e.name])||(l={},oo[e.name]=l),(s=l[a.toURLString()])&&nP("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new aq(a,!1,p,o),l[a.toURLString()]=s,s),e)})(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),nt(nh,nf,void 0),nt(nh,nf,"esm2017");const os=function(e=function(e=t1){let t=t3.get(e);if(!t&&e===t1&&ta())return ne();if(!t)throw t9.create("no-app",{appName:e});return t}(),t){let n=(function(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)})(e,"database").getImmediate({identifier:void 0});if(!n._instanceStarted){let e=ti("database");e&&function(e,t,n,r={}){var i;let a;(e=tT(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&nP("Cannot call useEmulator() after instance has already been initialized.");let o=e._repoInternal;o.repoInfo_.nodeAdmin?(r.mockUserToken&&nP('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new nG(nG.OWNER)):r.mockUserToken&&(a=new nG("string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[e8(JSON.stringify({alg:"none",type:"JWT"})),e8(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId))),i=a,o.repoInfo_=new n0(`${t}:${n}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),i&&(o.authTokenProvider_=i)}(n,...e)}return n}(ne({apiKey:"AIzaSyDk1_MRD8CwpVLAd1_i03nEO3zddBU_vmk",authDomain:"webshop-fe3fb.firebaseapp.com",databaseURL:"https://webshop-fe3fb-default-rtdb.europe-west1.firebasedatabase.app",projectId:"webshop-fe3fb",storageBucket:"webshop-fe3fb.appspot.com",messagingSenderId:"603658758465",appId:"1:603658758465:web:10acaefab052473b4999c0",measurementId:"G-4BPFMNJNLY"}));var ou=function({addToCart:e}){let[t,n]=(0,W.useState)([]),[r,i]=(0,W.useState)(!0);(0,W.useEffect)(()=>{let e=function(e,t,n,r,i){var a;let o,l;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){let t=n,r=(n,r)=>{aQ(e._repo,e,u),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}let s=new a8(n,o||void 0),u="value"===t?new oi(s):new oa(t,s);return a=e._repo,l=".info"===ru(e._path)?an(a.infoSyncTree_,e,u):an(a.serverSyncTree_,e,u),az(a.eventQueue_,e._path,l),()=>aQ(e._repo,e,u)}(ot(os,"products"),"value",e=>{e.exists()?n(Object.entries(e.val()).map(([e,t])=>({id:e,...t}))):console.log("Inga produkter hittades."),i(!1)},void 0,void 0);return()=>e()},[]);let a=async t=>{if(t.inventory>0){let r=t.inventory-1,i=ot(os,`products/${t.id}`);try{await or(i,{inventory:r}),n(e=>e.map(e=>e.id===t.id?{...e,inventory:r}:e)),e({...t,quantity:1,originalInventory:t.inventory})}catch(e){console.error("Error updating inventory:",e),alert("Could not update product, try again later.")}}else alert("Produkt är slut i lager!")};return r?/*#__PURE__*/(0,q.jsx)("p",{children:"Laddar produkter..."}):/*#__PURE__*/(0,q.jsx)("div",{children:t.length>0?/*#__PURE__*/(0,q.jsx)("ul",{children:t.map(e=>/*#__PURE__*/(0,q.jsxs)("li",{children:[/*#__PURE__*/(0,q.jsxs)("h2",{children:[e.name," - ",e.price," kr"]}),/*#__PURE__*/(0,q.jsxs)("p",{children:["Lagersaldo: ",e.inventory>0?e.inventory:"Slut i lager"]}),/*#__PURE__*/(0,q.jsx)("button",{onClick:()=>a(e),disabled:0===e.inventory,children:"Köp nu"})]},e.id))}):/*#__PURE__*/(0,q.jsx)("p",{children:"Inga produkter tillgängliga just nu."})})},W=U("acw62"),oc=function({cart:e=[],setCart:t}){let[n,r]=(0,W.useState)(!1),i=eb(),a=async()=>{alert("Tack för att du handlade hos oss!");try{console.log("Proceeding to checkout...");let n=e.map(async e=>{let t=ot(os,`products/${e.id}`),n=e.inventory-e.quantity;try{await or(t,{inventory:n}),console.log(`Lagersaldo f\xf6r ${e.name} minskat till ${n}.`)}catch(t){throw console.error(`Fel vid uppdatering av ${e.name}:`,t),Error(`Misslyckades med att uppdatera ${e.name}`)}});await Promise.all(n),t([]),i("/")}catch(e){alert("Ett fel inträffade vid uppdatering av lagersaldo. Försök igen senare."),console.error("Fel vid uppdatering av lagersaldo:",e)}},o=async()=>{if(!n){if(r(!0),window.confirm("Är du säker på att du vill tömma kundvagnen?")){console.log("Clearing the cart, no Firebase updates here");let n=e.map(async e=>{let t=ot(os,`products/${e.id}`);try{await or(t,{inventory:e.originalInventory}),console.log(`Restored inventory for ${e.name} to ${e.originalInventory}`)}catch(t){console.error(`Failed to restore inventory for ${e.name}:`,t)}});await Promise.all(n),t([]),r(!1)}else r(!1)}};return/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)("h2",{children:"Varukorg"}),e.length>0?/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)("h3",{children:"Produkter i varukorgen:"}),/*#__PURE__*/(0,q.jsx)("ul",{children:e.map(e=>/*#__PURE__*/(0,q.jsxs)("li",{children:[/*#__PURE__*/(0,q.jsxs)("h4",{children:[e.name," - ",e.price," kr"]}),/*#__PURE__*/(0,q.jsxs)("p",{children:["Antal: ",e.quantity]})]},e.id))}),/*#__PURE__*/(0,q.jsxs)("h3",{children:["Totalpris: ",e.reduce((e,t)=>e+t.price*t.quantity,0)," kr"]}),/*#__PURE__*/(0,q.jsx)("button",{onClick:a,children:"Slutför köp"}),/*#__PURE__*/(0,q.jsx)("button",{onClick:o,disabled:n,children:n?"Tömmer...":"Töm kundvagnen"})]}):/*#__PURE__*/(0,q.jsx)("p",{children:"Din varukorg är tom."})]})};const od=document.getElementById("root");/*@__PURE__*/m(B).createRoot(od).render(/*#__PURE__*/(0,q.jsx)(/*@__PURE__*/m(W).StrictMode,{children:/*#__PURE__*/(0,q.jsx)(function(){let[e,t]=(0,W.useState)([]),n=e.reduce((e,t)=>e+t.quantity,0);return/*#__PURE__*/(0,q.jsxs)(eF,{children:[/*#__PURE__*/(0,q.jsx)(ej,{cartCount:n}),/*#__PURE__*/(0,q.jsxs)(eR,{children:[/*#__PURE__*/(0,q.jsx)(eN,{path:"/",element:/*#__PURE__*/(0,q.jsx)(ou,{addToCart:e=>{t(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1,originalInventory:e.inventory}])}})}),/*#__PURE__*/(0,q.jsx)(eN,{path:"/cart",element:/*#__PURE__*/(0,q.jsx)(oc,{cart:e,setCart:t})})]})]})},{})}));
//# sourceMappingURL=index.263ca90c.js.map
